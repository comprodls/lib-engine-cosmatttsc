/* =========================================================
 * bootstrap-slider.js v2.0.0
 * http://www.eyecon.ro/bootstrap-slider
 * =========================================================
 * Copyright 2012 Stefan Petre
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */

/* Javascript plotting library for jQuery, version 0.8.3.

Copyright (c) 2007-2014 IOLA and Ole Laursen.
Licensed under the MIT license.

*/

/* Plugin for jQuery for working with colors.
 *
 * Version 1.1.
 *
 * Inspiration from jQuery color animation plugin by John Resig.
 *
 * Released under the MIT license by Ole Laursen, October 2009.
 *
 * Examples:
 *
 *   $.color.parse("#fff").scale('rgb', 0.25).add('a', -0.5).toString()
 *   var c = $.color.extract($("#mydiv"), 'background-color');
 *   console.log(c.r, c.g, c.b, c.a);
 *   $.color.make(100, 50, 25, 0.4).toString() // returns "rgba(100,50,25,0.4)"
 *
 * Note that .scale() and .add() return the same modified object
 * instead of making a new one.
 *
 * V. 1.1: Fix error handling so e.g. parsing an empty string does
 * produce a color rather than just crashing.
 */

/* Flot plugin for automatically redrawing plots as the placeholder resizes.

Copyright (c) 2007-2014 IOLA and Ole Laursen.
Licensed under the MIT license.

It works by listening for changes on the placeholder div (through the jQuery
resize event plugin) - if the size changes, it will redraw the plot.

There are no options. If you need to disable the plugin for some plots, you
can just fix the size of their placeholders.

*/

/* Inline dependency:
 * jQuery resize event - v1.1 - 3/14/2010
 * http://benalman.com/projects/jquery-resize-plugin/
 *
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */

/*
Axis Labels Plugin for flot.
http://github.com/markrcote/flot-axislabels

Original code is Copyright (c) 2010 Xuan Luo.
Original code was released under the GPLv3 license by Xuan Luo, September 2010.
Original code was rereleased under the MIT license by Xuan Luo, April 2012.

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */

define("css",[],function(){if("undefined"==typeof window)return{load:function(n,r,load){load()}};var head=document.getElementsByTagName("head")[0],engine=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)|AndroidWebKit\/([^ ;]*)/)||0,useImportLoad=!1,useOnload=!0;engine[1]||engine[7]?useImportLoad=parseInt(engine[1])<6||parseInt(engine[7])<=9:engine[2]||engine[8]?useOnload=!1:engine[4]&&(useImportLoad=parseInt(engine[4])<18);var cssAPI={};cssAPI.pluginBuilder="./css-builder";var curStyle,curSheet,ieCurCallback,createStyle=function(){curStyle=document.createElement("style"),head.appendChild(curStyle),curSheet=curStyle.styleSheet||curStyle.sheet},ieCnt=0,ieLoads=[],createIeLoad=function(url){curSheet.addImport(url),curStyle.onload=function(){processIeLoad()},ieCnt++,31==ieCnt&&(createStyle(),ieCnt=0)},processIeLoad=function(){ieCurCallback();var nextLoad=ieLoads.shift();return nextLoad?(ieCurCallback=nextLoad[1],void createIeLoad(nextLoad[0])):void(ieCurCallback=null)},importLoad=function(url,callback){if(curSheet&&curSheet.addImport||createStyle(),curSheet&&curSheet.addImport)ieCurCallback?ieLoads.push([url,callback]):(createIeLoad(url),ieCurCallback=callback);else{curStyle.textContent='@import "'+url+'";';var loadInterval=setInterval(function(){try{curStyle.sheet.cssRules,clearInterval(loadInterval),callback()}catch(e){}},10)}},linkLoad=function(url,callback){var link=document.createElement("link");if(link.type="text/css",link.rel="stylesheet",useOnload)link.onload=function(){link.onload=function(){},setTimeout(callback,7)};else var loadInterval=setInterval(function(){for(var i=0;i<document.styleSheets.length;i++){var sheet=document.styleSheets[i];if(sheet.href==link.href)return clearInterval(loadInterval),callback()}},10);link.href=url,head.appendChild(link)};return cssAPI.normalize=function(name,normalize){return".css"==name.substr(name.length-4,4)&&(name=name.substr(0,name.length-4)),normalize(name)},cssAPI.load=function(cssId,req,load,config){(useImportLoad?importLoad:linkLoad)(req.toUrl(cssId+".css"),load)},cssAPI}),define("css!../css/cosmatttsc",[],function(){}),!function($){var Slider=function(element,options){this.dragLocked=!1,this.limit=1e5,this.element=$(element).hide(),this.picker=$('<div class="slider"><div class="slider-track"><div class="slider-selection"></div><div class="slider-handle"></div><div class="slider-handle"></div></div><div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div></div>').insertBefore(this.element).append(this.element),this.id=this.element.data("slider-id")||options.id,this.id&&(this.picker[0].id=this.id),"undefined"!=typeof Modernizr&&Modernizr.touch&&(this.touchCapable=!0);var tooltip=this.element.data("slider-tooltip")||options.tooltip;switch(this.tooltip=this.picker.find(".tooltip"),this.tooltipInner=this.tooltip.find("div.tooltip-inner"),this.orientation=this.element.data("slider-orientation")||options.orientation,this.orientation){case"vertical":this.picker.addClass("slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight",this.tooltip.addClass("right")[0].style.left="100%";break;default:this.picker.addClass("slider-horizontal").css("width",this.element.outerWidth()),this.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth",this.tooltip.addClass("top")[0].style.top=-this.tooltip.outerHeight()-14+"px"}this.min=this.element.data("slider-min")||options.min,this.max=this.element.data("slider-max")||options.max,this.step=this.element.data("slider-step")||options.step,this.value=this.element.data("slider-value")||options.value,this.value[1]&&(this.range=!0),this.selection=this.element.data("slider-selection")||options.selection,this.selectionEl=this.picker.find(".slider-selection"),"none"===this.selection&&this.selectionEl.addClass("hide"),this.selectionElStyle=this.selectionEl[0].style,this.handle1=this.picker.find(".slider-handle:first"),this.handle1Stype=this.handle1[0].style,this.handle2=this.picker.find(".slider-handle:last"),this.handle2Stype=this.handle2[0].style;var handle=this.element.data("slider-handle")||options.handle;switch(handle){case"round":this.handle1.addClass("round"),this.handle2.addClass("round");break;case"triangle":this.handle1.addClass("triangle"),this.handle2.addClass("triangle")}this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),"after"==this.selection?this.value[1]=this.max:this.value[1]=this.min),this.diff=this.max-this.min,this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff],this.offset=this.picker.offset(),this.size=this.picker[0][this.sizePos],this.formater=options.formater,this.reversed=this.element.data("slider-reversed")||options.reversed,this.layout(),this.touchCapable?this.picker.on({touchstart:$.proxy(this.mousedown,this)}):this.picker.on({mousedown:$.proxy(this.mousedown,this)}),"show"===tooltip?this.picker.on({mouseenter:$.proxy(this.showTooltip,this),mouseleave:$.proxy(this.hideTooltip,this)}):this.tooltip.addClass("hide")};Slider.prototype={constructor:Slider,over:!1,inDrag:!1,showTooltip:function(){this.tooltip.addClass("in"),this.over=!0},hideTooltip:function(){this.inDrag===!1&&this.tooltip.removeClass("in"),this.over=!1},layout:function(){var positionPercentages;positionPercentages=this.reversed?[this.percentage[1]-this.percentage[0],this.percentage[1]]:[this.percentage[0],this.percentage[1]],this.handle1Stype[this.stylePos]=positionPercentages[0]+"%",this.handle2Stype[this.stylePos]=positionPercentages[1]+"%","vertical"==this.orientation?(this.selectionElStyle.top=Math.min(positionPercentages[0],positionPercentages[1])+"%",this.selectionElStyle.height=Math.abs(positionPercentages[0]-positionPercentages[1])+"%"):(this.selectionElStyle.left=Math.min(positionPercentages[0],positionPercentages[1])+"%",this.selectionElStyle.width=Math.abs(positionPercentages[0]-positionPercentages[1])+"%"),this.range?(this.tooltipInner.text(this.formater(this.value[0])+" : "+this.formater(this.value[1])),this.tooltip[0].style[this.stylePos]=this.size*(positionPercentages[0]+(positionPercentages[1]-positionPercentages[0])/2)/100-("vertical"===this.orientation?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px"):(this.tooltipInner.text(this.formater(this.value[0])),this.tooltip[0].style[this.stylePos]=this.size*positionPercentages[0]/100-("vertical"===this.orientation?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px")},mousedown:function(ev){if(!this.dragLocked){this.touchCapable&&"touchstart"===ev.type&&(ev=ev.originalEvent),this.offset=this.picker.offset(),this.size=this.picker[0][this.sizePos];var percentage=this.getPercentage(ev);if(this.range){var diff1=Math.abs(this.percentage[0]-percentage),diff2=Math.abs(this.percentage[1]-percentage);this.dragged=diff1<diff2?0:1}else this.dragged=0;this.percentage[this.dragged]=this.reversed?this.percentage[1]-percentage:percentage,this.layout(),this.touchCapable?$(document).on({touchmove:$.proxy(this.mousemove,this),touchend:$.proxy(this.mouseup,this)}):$(document).on({mousemove:$.proxy(this.mousemove,this),mouseup:$.proxy(this.mouseup,this)}),this.inDrag=!0;var val=this.calculateValue();return this.setValue(val),this.element.trigger({type:"slideStart",value:val}).trigger({type:"slide",value:val}),!1}},mousemove:function(ev){if(!this.dragLocked){this.touchCapable&&"touchmove"===ev.type&&(ev=ev.originalEvent);var percentage=this.getPercentage(ev);if(this.range&&(0===this.dragged&&this.percentage[1]<percentage?(this.percentage[0]=this.percentage[1],this.dragged=1):1===this.dragged&&this.percentage[0]>percentage&&(this.percentage[1]=this.percentage[0],this.dragged=0)),x=this.reversed?this.percentage[1]-percentage:percentage,x>this.limit)return;this.percentage[this.dragged]=x,this.layout();var val=this.calculateValue();return this.setValue(val),this.element.trigger({type:"slide",value:val}).data("value",val).prop("value",val),!1}},mouseup:function(ev){this.touchCapable?$(document).off({touchmove:this.mousemove,touchend:this.mouseup}):$(document).off({mousemove:this.mousemove,mouseup:this.mouseup}),this.inDrag=!1,0==this.over&&this.hideTooltip(),this.element;var val=this.calculateValue();return this.layout(),this.element.trigger({type:"slideStop",value:val}).data("value",val).prop("value",val),!1},calculateValue:function(){var val;return this.range?(val=[this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.min+Math.round(this.diff*this.percentage[1]/100/this.step)*this.step],this.value=val):(val=this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.value=[val,this.value[1]]),val},getPercentage:function(ev){this.touchCapable&&(ev=ev.touches[0]);var percentage=100*(ev[this.mousePos]-this.offset[this.stylePos])/this.size;return percentage=Math.round(percentage/this.percentage[2])*this.percentage[2],Math.max(0,Math.min(100,percentage))},getValue:function(){return this.range?this.value:this.value[0]},setLimit:function(val){this.limit=val},setDragLocked:function(val){this.dragLocked=val},getDragLocked:function(val){return this.dragLocked},setValue:function(val){this.value=val,this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),"after"==this.selection?this.value[1]=this.max:this.value[1]=this.min),this.diff=this.max-this.min,this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff],this.layout()},destroy:function(){this.element.show().insertBefore(this.picker),this.picker.remove()}},$.fn.slider=function(option,val){return this.each(function(){var $this=$(this),data=$this.data("slider"),options="object"==typeof option&&option;data||$this.data("slider",data=new Slider(this,$.extend({},$.fn.slider.defaults,options))),"string"==typeof option&&data[option](val)})},$.fn.slider.defaults={min:0,max:10,step:1,orientation:"horizontal",value:5,selection:"before",tooltip:"show",handle:"round",reversed:!1,limit:1e5,dragLocked:!1,formater:function(value){return value}},$.fn.slider.Constructor=Slider}(window.jQuery),define("../../bower_components/bootstrap-slider/bootstrap-slider.js",function(){}),define("css!../../bower_components/bootstrap-slider/slider",[],function(){}),function($){$.color={},$.color.make=function(r,g,b,a){var o={};return o.r=r||0,o.g=g||0,o.b=b||0,o.a=null!=a?a:1,o.add=function(c,d){for(var i=0;i<c.length;++i)o[c.charAt(i)]+=d;return o.normalize()},o.scale=function(c,f){for(var i=0;i<c.length;++i)o[c.charAt(i)]*=f;return o.normalize()},o.toString=function(){return o.a>=1?"rgb("+[o.r,o.g,o.b].join(",")+")":"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"},o.normalize=function(){function clamp(min,value,max){return value<min?min:value>max?max:value}return o.r=clamp(0,parseInt(o.r),255),o.g=clamp(0,parseInt(o.g),255),o.b=clamp(0,parseInt(o.b),255),o.a=clamp(0,o.a,1),o},o.clone=function(){return $.color.make(o.r,o.b,o.g,o.a)},o.normalize()},$.color.extract=function(elem,css){var c;do{if(c=elem.css(css).toLowerCase(),""!=c&&"transparent"!=c)break;elem=elem.parent()}while(elem.length&&!$.nodeName(elem.get(0),"body"));return"rgba(0, 0, 0, 0)"==c&&(c="transparent"),$.color.parse(c)},$.color.parse=function(str){var res,m=$.color.make;if(res=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(str))return m(parseInt(res[1],10),parseInt(res[2],10),parseInt(res[3],10));if(res=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(str))return m(parseInt(res[1],10),parseInt(res[2],10),parseInt(res[3],10),parseFloat(res[4]));if(res=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(str))return m(2.55*parseFloat(res[1]),2.55*parseFloat(res[2]),2.55*parseFloat(res[3]));if(res=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(str))return m(2.55*parseFloat(res[1]),2.55*parseFloat(res[2]),2.55*parseFloat(res[3]),parseFloat(res[4]));if(res=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(str))return m(parseInt(res[1],16),parseInt(res[2],16),parseInt(res[3],16));if(res=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(str))return m(parseInt(res[1]+res[1],16),parseInt(res[2]+res[2],16),parseInt(res[3]+res[3],16));var name=$.trim(str).toLowerCase();return"transparent"==name?m(255,255,255,0):(res=lookupColors[name]||[0,0,0],m(res[0],res[1],res[2]))};var lookupColors={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function($){function Canvas(cls,container){var element=container.children("."+cls)[0];if(null==element&&(element=document.createElement("canvas"),element.className=cls,$(element).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(container),!element.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");element=window.G_vmlCanvasManager.initElement(element)}this.element=element;var context=this.context=element.getContext("2d"),devicePixelRatio=window.devicePixelRatio||1,backingStoreRatio=context.webkitBackingStorePixelRatio||context.mozBackingStorePixelRatio||context.msBackingStorePixelRatio||context.oBackingStorePixelRatio||context.backingStorePixelRatio||1;this.pixelRatio=devicePixelRatio/backingStoreRatio,this.resize(container.width(),container.height()),this.textContainer=null,this.text={},this._textCache={}}function Plot(placeholder,data_,options_,plugins){function executeHooks(hook,args){args=[plot].concat(args);for(var i=0;i<hook.length;++i)hook[i].apply(this,args)}function initPlugins(){for(var classes={Canvas:Canvas},i=0;i<plugins.length;++i){var p=plugins[i];p.init(plot,classes),p.options&&$.extend(!0,options,p.options)}}function parseOptions(opts){$.extend(!0,options,opts),opts&&opts.colors&&(options.colors=opts.colors),null==options.xaxis.color&&(options.xaxis.color=$.color.parse(options.grid.color).scale("a",.22).toString()),null==options.yaxis.color&&(options.yaxis.color=$.color.parse(options.grid.color).scale("a",.22).toString()),null==options.xaxis.tickColor&&(options.xaxis.tickColor=options.grid.tickColor||options.xaxis.color),null==options.yaxis.tickColor&&(options.yaxis.tickColor=options.grid.tickColor||options.yaxis.color),null==options.grid.borderColor&&(options.grid.borderColor=options.grid.color),null==options.grid.tickColor&&(options.grid.tickColor=$.color.parse(options.grid.color).scale("a",.22).toString());var i,axisOptions,axisCount,fontSize=placeholder.css("font-size"),fontSizeDefault=fontSize?+fontSize.replace("px",""):13,fontDefaults={style:placeholder.css("font-style"),size:Math.round(.8*fontSizeDefault),variant:placeholder.css("font-variant"),weight:placeholder.css("font-weight"),family:placeholder.css("font-family")};for(axisCount=options.xaxes.length||1,i=0;i<axisCount;++i)axisOptions=options.xaxes[i],axisOptions&&!axisOptions.tickColor&&(axisOptions.tickColor=axisOptions.color),axisOptions=$.extend(!0,{},options.xaxis,axisOptions),options.xaxes[i]=axisOptions,axisOptions.font&&(axisOptions.font=$.extend({},fontDefaults,axisOptions.font),axisOptions.font.color||(axisOptions.font.color=axisOptions.color),axisOptions.font.lineHeight||(axisOptions.font.lineHeight=Math.round(1.15*axisOptions.font.size)));for(axisCount=options.yaxes.length||1,i=0;i<axisCount;++i)axisOptions=options.yaxes[i],axisOptions&&!axisOptions.tickColor&&(axisOptions.tickColor=axisOptions.color),axisOptions=$.extend(!0,{},options.yaxis,axisOptions),options.yaxes[i]=axisOptions,axisOptions.font&&(axisOptions.font=$.extend({},fontDefaults,axisOptions.font),axisOptions.font.color||(axisOptions.font.color=axisOptions.color),axisOptions.font.lineHeight||(axisOptions.font.lineHeight=Math.round(1.15*axisOptions.font.size)));for(options.xaxis.noTicks&&null==options.xaxis.ticks&&(options.xaxis.ticks=options.xaxis.noTicks),options.yaxis.noTicks&&null==options.yaxis.ticks&&(options.yaxis.ticks=options.yaxis.noTicks),options.x2axis&&(options.xaxes[1]=$.extend(!0,{},options.xaxis,options.x2axis),options.xaxes[1].position="top",null==options.x2axis.min&&(options.xaxes[1].min=null),null==options.x2axis.max&&(options.xaxes[1].max=null)),options.y2axis&&(options.yaxes[1]=$.extend(!0,{},options.yaxis,options.y2axis),options.yaxes[1].position="right",null==options.y2axis.min&&(options.yaxes[1].min=null),null==options.y2axis.max&&(options.yaxes[1].max=null)),options.grid.coloredAreas&&(options.grid.markings=options.grid.coloredAreas),options.grid.coloredAreasColor&&(options.grid.markingsColor=options.grid.coloredAreasColor),options.lines&&$.extend(!0,options.series.lines,options.lines),options.points&&$.extend(!0,options.series.points,options.points),options.bars&&$.extend(!0,options.series.bars,options.bars),null!=options.shadowSize&&(options.series.shadowSize=options.shadowSize),null!=options.highlightColor&&(options.series.highlightColor=options.highlightColor),i=0;i<options.xaxes.length;++i)getOrCreateAxis(xaxes,i+1).options=options.xaxes[i];for(i=0;i<options.yaxes.length;++i)getOrCreateAxis(yaxes,i+1).options=options.yaxes[i];for(var n in hooks)options.hooks[n]&&options.hooks[n].length&&(hooks[n]=hooks[n].concat(options.hooks[n]));executeHooks(hooks.processOptions,[options])}function setData(d){series=parseData(d),fillInSeriesOptions(),processData()}function parseData(d){for(var res=[],i=0;i<d.length;++i){var s=$.extend(!0,{},options.series);null!=d[i].data?(s.data=d[i].data,delete d[i].data,$.extend(!0,s,d[i]),d[i].data=s.data):s.data=d[i],res.push(s)}return res}function axisNumber(obj,coord){var a=obj[coord+"axis"];return"object"==typeof a&&(a=a.n),"number"!=typeof a&&(a=1),a}function allAxes(){return $.grep(xaxes.concat(yaxes),function(a){return a})}function canvasToAxisCoords(pos){var i,axis,res={};for(i=0;i<xaxes.length;++i)axis=xaxes[i],axis&&axis.used&&(res["x"+axis.n]=axis.c2p(pos.left));for(i=0;i<yaxes.length;++i)axis=yaxes[i],axis&&axis.used&&(res["y"+axis.n]=axis.c2p(pos.top));return void 0!==res.x1&&(res.x=res.x1),void 0!==res.y1&&(res.y=res.y1),res}function axisToCanvasCoords(pos){var i,axis,key,res={};for(i=0;i<xaxes.length;++i)if(axis=xaxes[i],axis&&axis.used&&(key="x"+axis.n,null==pos[key]&&1==axis.n&&(key="x"),null!=pos[key])){res.left=axis.p2c(pos[key]);break}for(i=0;i<yaxes.length;++i)if(axis=yaxes[i],axis&&axis.used&&(key="y"+axis.n,null==pos[key]&&1==axis.n&&(key="y"),null!=pos[key])){res.top=axis.p2c(pos[key]);break}return res}function getOrCreateAxis(axes,number){return axes[number-1]||(axes[number-1]={n:number,direction:axes==xaxes?"x":"y",options:$.extend(!0,{},axes==xaxes?options.xaxis:options.yaxis)}),axes[number-1]}function fillInSeriesOptions(){var i,neededColors=series.length,maxIndex=-1;for(i=0;i<series.length;++i){var sc=series[i].color;null!=sc&&(neededColors--,"number"==typeof sc&&sc>maxIndex&&(maxIndex=sc))}neededColors<=maxIndex&&(neededColors=maxIndex+1);var c,colors=[],colorPool=options.colors,colorPoolSize=colorPool.length,variation=0;for(i=0;i<neededColors;i++)c=$.color.parse(colorPool[i%colorPoolSize]||"#666"),i%colorPoolSize==0&&i&&(variation=variation>=0?variation<.5?-variation-.2:0:-variation),colors[i]=c.scale("rgb",1+variation);var s,colori=0;for(i=0;i<series.length;++i){if(s=series[i],null==s.color?(s.color=colors[colori].toString(),++colori):"number"==typeof s.color&&(s.color=colors[s.color].toString()),null==s.lines.show){var v,show=!0;for(v in s)if(s[v]&&s[v].show){show=!1;break}show&&(s.lines.show=!0)}null==s.lines.zero&&(s.lines.zero=!!s.lines.fill),s.xaxis=getOrCreateAxis(xaxes,axisNumber(s,"x")),s.yaxis=getOrCreateAxis(yaxes,axisNumber(s,"y"))}}function processData(){function updateAxis(axis,min,max){min<axis.datamin&&min!=-fakeInfinity&&(axis.datamin=min),max>axis.datamax&&max!=fakeInfinity&&(axis.datamax=max)}var i,j,k,m,s,points,ps,val,f,p,data,format,topSentry=Number.POSITIVE_INFINITY,bottomSentry=Number.NEGATIVE_INFINITY,fakeInfinity=Number.MAX_VALUE;for($.each(allAxes(),function(_,axis){axis.datamin=topSentry,axis.datamax=bottomSentry,axis.used=!1}),i=0;i<series.length;++i)s=series[i],s.datapoints={points:[]},executeHooks(hooks.processRawData,[s,s.data,s.datapoints]);for(i=0;i<series.length;++i){if(s=series[i],data=s.data,format=s.datapoints.format,!format){if(format=[],format.push({x:!0,number:!0,required:!0}),format.push({y:!0,number:!0,required:!0}),s.bars.show||s.lines.show&&s.lines.fill){var autoscale=!!(s.bars.show&&s.bars.zero||s.lines.show&&s.lines.zero);format.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:autoscale}),s.bars.horizontal&&(delete format[format.length-1].y,format[format.length-1].x=!0)}s.datapoints.format=format}if(null==s.datapoints.pointsize){s.datapoints.pointsize=format.length,ps=s.datapoints.pointsize,points=s.datapoints.points;var insertSteps=s.lines.show&&s.lines.steps;for(s.xaxis.used=s.yaxis.used=!0,j=k=0;j<data.length;++j,k+=ps){p=data[j];var nullify=null==p;if(!nullify)for(m=0;m<ps;++m)val=p[m],f=format[m],f&&(f.number&&null!=val&&(val=+val,isNaN(val)?val=null:val==1/0?val=fakeInfinity:val==-(1/0)&&(val=-fakeInfinity)),null==val&&(f.required&&(nullify=!0),null!=f.defaultValue&&(val=f.defaultValue))),points[k+m]=val;if(nullify)for(m=0;m<ps;++m)val=points[k+m],null!=val&&(f=format[m],f.autoscale!==!1&&(f.x&&updateAxis(s.xaxis,val,val),f.y&&updateAxis(s.yaxis,val,val))),points[k+m]=null;else if(insertSteps&&k>0&&null!=points[k-ps]&&points[k-ps]!=points[k]&&points[k-ps+1]!=points[k+1]){for(m=0;m<ps;++m)points[k+ps+m]=points[k+m];points[k+1]=points[k-ps+1],k+=ps}}}}for(i=0;i<series.length;++i)s=series[i],executeHooks(hooks.processDatapoints,[s,s.datapoints]);for(i=0;i<series.length;++i){s=series[i],points=s.datapoints.points,ps=s.datapoints.pointsize,format=s.datapoints.format;var xmin=topSentry,ymin=topSentry,xmax=bottomSentry,ymax=bottomSentry;for(j=0;j<points.length;j+=ps)if(null!=points[j])for(m=0;m<ps;++m)val=points[j+m],f=format[m],f&&f.autoscale!==!1&&val!=fakeInfinity&&val!=-fakeInfinity&&(f.x&&(val<xmin&&(xmin=val),val>xmax&&(xmax=val)),f.y&&(val<ymin&&(ymin=val),val>ymax&&(ymax=val)));if(s.bars.show){var delta;switch(s.bars.align){case"left":delta=0;break;case"right":delta=-s.bars.barWidth;break;default:delta=-s.bars.barWidth/2}s.bars.horizontal?(ymin+=delta,ymax+=delta+s.bars.barWidth):(xmin+=delta,xmax+=delta+s.bars.barWidth)}updateAxis(s.xaxis,xmin,xmax),updateAxis(s.yaxis,ymin,ymax)}$.each(allAxes(),function(_,axis){axis.datamin==topSentry&&(axis.datamin=null),axis.datamax==bottomSentry&&(axis.datamax=null)})}function setupCanvases(){placeholder.css("padding",0).children().filter(function(){return!$(this).hasClass("flot-overlay")&&!$(this).hasClass("flot-base")}).remove(),"static"==placeholder.css("position")&&placeholder.css("position","relative"),surface=new Canvas("flot-base",placeholder),overlay=new Canvas("flot-overlay",placeholder),ctx=surface.context,octx=overlay.context,eventHolder=$(overlay.element).unbind();var existing=placeholder.data("plot");existing&&(existing.shutdown(),overlay.clear()),placeholder.data("plot",plot)}function bindEvents(){options.grid.hoverable&&(eventHolder.mousemove(onMouseMove),eventHolder.bind("mouseleave",onMouseLeave)),options.grid.clickable&&eventHolder.click(onClick),executeHooks(hooks.bindEvents,[eventHolder])}function shutdown(){redrawTimeout&&clearTimeout(redrawTimeout),eventHolder.unbind("mousemove",onMouseMove),eventHolder.unbind("mouseleave",onMouseLeave),eventHolder.unbind("click",onClick),executeHooks(hooks.shutdown,[eventHolder])}function setTransformationHelpers(axis){function identity(x){return x}var s,m,t=axis.options.transform||identity,it=axis.options.inverseTransform;"x"==axis.direction?(s=axis.scale=plotWidth/Math.abs(t(axis.max)-t(axis.min)),m=Math.min(t(axis.max),t(axis.min))):(s=axis.scale=plotHeight/Math.abs(t(axis.max)-t(axis.min)),s=-s,m=Math.max(t(axis.max),t(axis.min))),t==identity?axis.p2c=function(p){return(p-m)*s}:axis.p2c=function(p){return(t(p)-m)*s},it?axis.c2p=function(c){return it(m+c/s)}:axis.c2p=function(c){return m+c/s}}function measureTickLabels(axis){for(var opts=axis.options,ticks=axis.ticks||[],labelWidth=opts.labelWidth||0,labelHeight=opts.labelHeight||0,maxWidth=labelWidth||("x"==axis.direction?Math.floor(surface.width/(ticks.length||1)):null),legacyStyles=axis.direction+"Axis "+axis.direction+axis.n+"Axis",layer="flot-"+axis.direction+"-axis flot-"+axis.direction+axis.n+"-axis "+legacyStyles,font=opts.font||"flot-tick-label tickLabel",i=0;i<ticks.length;++i){var t=ticks[i];if(t.label){var info=surface.getTextInfo(layer,t.label,font,null,maxWidth);labelWidth=Math.max(labelWidth,info.width),labelHeight=Math.max(labelHeight,info.height)}}axis.labelWidth=opts.labelWidth||labelWidth,axis.labelHeight=opts.labelHeight||labelHeight}function allocateAxisBoxFirstPhase(axis){var lw=axis.labelWidth,lh=axis.labelHeight,pos=axis.options.position,isXAxis="x"===axis.direction,tickLength=axis.options.tickLength,axisMargin=options.grid.axisMargin,padding=options.grid.labelMargin,innermost=!0,outermost=!0,first=!0,found=!1;$.each(isXAxis?xaxes:yaxes,function(i,a){a&&(a.show||a.reserveSpace)&&(a===axis?found=!0:a.options.position===pos&&(found?outermost=!1:innermost=!1),found||(first=!1))}),outermost&&(axisMargin=0),null==tickLength&&(tickLength=first?"full":5),isNaN(+tickLength)||(padding+=+tickLength),isXAxis?(lh+=padding,"bottom"==pos?(plotOffset.bottom+=lh+axisMargin,axis.box={top:surface.height-plotOffset.bottom,height:lh}):(axis.box={top:plotOffset.top+axisMargin,height:lh},plotOffset.top+=lh+axisMargin)):(lw+=padding,"left"==pos?(axis.box={left:plotOffset.left+axisMargin,width:lw},plotOffset.left+=lw+axisMargin):(plotOffset.right+=lw+axisMargin,axis.box={left:surface.width-plotOffset.right,width:lw})),axis.position=pos,axis.tickLength=tickLength,axis.box.padding=padding,axis.innermost=innermost}function allocateAxisBoxSecondPhase(axis){"x"==axis.direction?(axis.box.left=plotOffset.left-axis.labelWidth/2,axis.box.width=surface.width-plotOffset.left-plotOffset.right+axis.labelWidth):(axis.box.top=plotOffset.top-axis.labelHeight/2,axis.box.height=surface.height-plotOffset.bottom-plotOffset.top+axis.labelHeight)}function adjustLayoutForThingsStickingOut(){var i,minMargin=options.grid.minBorderMargin;if(null==minMargin)for(minMargin=0,i=0;i<series.length;++i)minMargin=Math.max(minMargin,2*(series[i].points.radius+series[i].points.lineWidth/2));var margins={left:minMargin,right:minMargin,top:minMargin,bottom:minMargin};$.each(allAxes(),function(_,axis){axis.reserveSpace&&axis.ticks&&axis.ticks.length&&("x"===axis.direction?(margins.left=Math.max(margins.left,axis.labelWidth/2),margins.right=Math.max(margins.right,axis.labelWidth/2)):(margins.bottom=Math.max(margins.bottom,axis.labelHeight/2),margins.top=Math.max(margins.top,axis.labelHeight/2)))}),plotOffset.left=Math.ceil(Math.max(margins.left,plotOffset.left)),plotOffset.right=Math.ceil(Math.max(margins.right,plotOffset.right)),plotOffset.top=Math.ceil(Math.max(margins.top,plotOffset.top)),plotOffset.bottom=Math.ceil(Math.max(margins.bottom,plotOffset.bottom))}function setupGrid(){var i,axes=allAxes(),showGrid=options.grid.show;for(var a in plotOffset){var margin=options.grid.margin||0;plotOffset[a]="number"==typeof margin?margin:margin[a]||0}executeHooks(hooks.processOffset,[plotOffset]);for(var a in plotOffset)"object"==typeof options.grid.borderWidth?plotOffset[a]+=showGrid?options.grid.borderWidth[a]:0:plotOffset[a]+=showGrid?options.grid.borderWidth:0;if($.each(axes,function(_,axis){var axisOpts=axis.options;axis.show=null==axisOpts.show?axis.used:axisOpts.show,axis.reserveSpace=null==axisOpts.reserveSpace?axis.show:axisOpts.reserveSpace,setRange(axis)}),showGrid){var allocatedAxes=$.grep(axes,function(axis){return axis.show||axis.reserveSpace});for($.each(allocatedAxes,function(_,axis){setupTickGeneration(axis),setTicks(axis),snapRangeToTicks(axis,axis.ticks),measureTickLabels(axis)}),i=allocatedAxes.length-1;i>=0;--i)allocateAxisBoxFirstPhase(allocatedAxes[i]);adjustLayoutForThingsStickingOut(),$.each(allocatedAxes,function(_,axis){allocateAxisBoxSecondPhase(axis)})}plotWidth=surface.width-plotOffset.left-plotOffset.right,plotHeight=surface.height-plotOffset.bottom-plotOffset.top,$.each(axes,function(_,axis){setTransformationHelpers(axis)}),showGrid&&drawAxisLabels(),insertLegend()}function setRange(axis){var opts=axis.options,min=+(null!=opts.min?opts.min:axis.datamin),max=+(null!=opts.max?opts.max:axis.datamax),delta=max-min;if(0==delta){var widen=0==max?1:.01;null==opts.min&&(min-=widen),null!=opts.max&&null==opts.min||(max+=widen)}else{var margin=opts.autoscaleMargin;null!=margin&&(null==opts.min&&(min-=delta*margin,min<0&&null!=axis.datamin&&axis.datamin>=0&&(min=0)),null==opts.max&&(max+=delta*margin,max>0&&null!=axis.datamax&&axis.datamax<=0&&(max=0)))}axis.min=min,axis.max=max}function setupTickGeneration(axis){var noTicks,opts=axis.options;noTicks="number"==typeof opts.ticks&&opts.ticks>0?opts.ticks:.3*Math.sqrt("x"==axis.direction?surface.width:surface.height);var delta=(axis.max-axis.min)/noTicks,dec=-Math.floor(Math.log(delta)/Math.LN10),maxDec=opts.tickDecimals;null!=maxDec&&dec>maxDec&&(dec=maxDec);var size,magn=Math.pow(10,-dec),norm=delta/magn;if(norm<1.5?size=1:norm<3?(size=2,norm>2.25&&(null==maxDec||dec+1<=maxDec)&&(size=2.5,++dec)):size=norm<7.5?5:10,size*=magn,null!=opts.minTickSize&&size<opts.minTickSize&&(size=opts.minTickSize),axis.delta=delta,axis.tickDecimals=Math.max(0,null!=maxDec?maxDec:dec),axis.tickSize=opts.tickSize||size,"time"==opts.mode&&!axis.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(axis.tickGenerator||(axis.tickGenerator=function(axis){var prev,ticks=[],start=floorInBase(axis.min,axis.tickSize),i=0,v=Number.NaN;do prev=v,v=start+i*axis.tickSize,ticks.push(v),++i;while(v<axis.max&&v!=prev);return ticks},axis.tickFormatter=function(value,axis){var factor=axis.tickDecimals?Math.pow(10,axis.tickDecimals):1,formatted=""+Math.round(value*factor)/factor;if(null!=axis.tickDecimals){var decimal=formatted.indexOf("."),precision=decimal==-1?0:formatted.length-decimal-1;if(precision<axis.tickDecimals)return(precision?formatted:formatted+".")+(""+factor).substr(1,axis.tickDecimals-precision)}return formatted}),$.isFunction(opts.tickFormatter)&&(axis.tickFormatter=function(v,axis){return""+opts.tickFormatter(v,axis)}),null!=opts.alignTicksWithAxis){var otherAxis=("x"==axis.direction?xaxes:yaxes)[opts.alignTicksWithAxis-1];if(otherAxis&&otherAxis.used&&otherAxis!=axis){var niceTicks=axis.tickGenerator(axis);if(niceTicks.length>0&&(null==opts.min&&(axis.min=Math.min(axis.min,niceTicks[0])),
null==opts.max&&niceTicks.length>1&&(axis.max=Math.max(axis.max,niceTicks[niceTicks.length-1]))),axis.tickGenerator=function(axis){var v,i,ticks=[];for(i=0;i<otherAxis.ticks.length;++i)v=(otherAxis.ticks[i].v-otherAxis.min)/(otherAxis.max-otherAxis.min),v=axis.min+v*(axis.max-axis.min),ticks.push(v);return ticks},!axis.mode&&null==opts.tickDecimals){var extraDec=Math.max(0,-Math.floor(Math.log(axis.delta)/Math.LN10)+1),ts=axis.tickGenerator(axis);ts.length>1&&/\..*0$/.test((ts[1]-ts[0]).toFixed(extraDec))||(axis.tickDecimals=extraDec)}}}}function setTicks(axis){var oticks=axis.options.ticks,ticks=[];null==oticks||"number"==typeof oticks&&oticks>0?ticks=axis.tickGenerator(axis):oticks&&(ticks=$.isFunction(oticks)?oticks(axis):oticks);var i,v;for(axis.ticks=[],i=0;i<ticks.length;++i){var label=null,t=ticks[i];"object"==typeof t?(v=+t[0],t.length>1&&(label=t[1])):v=+t,null==label&&(label=axis.tickFormatter(v,axis)),isNaN(v)||axis.ticks.push({v:v,label:label})}}function snapRangeToTicks(axis,ticks){axis.options.autoscaleMargin&&ticks.length>0&&(null==axis.options.min&&(axis.min=Math.min(axis.min,ticks[0].v)),null==axis.options.max&&ticks.length>1&&(axis.max=Math.max(axis.max,ticks[ticks.length-1].v)))}function draw(){surface.clear(),executeHooks(hooks.drawBackground,[ctx]);var grid=options.grid;grid.show&&grid.backgroundColor&&drawBackground(),grid.show&&!grid.aboveData&&drawGrid();for(var i=0;i<series.length;++i)executeHooks(hooks.drawSeries,[ctx,series[i]]),drawSeries(series[i]);executeHooks(hooks.draw,[ctx]),grid.show&&grid.aboveData&&drawGrid(),surface.render(),triggerRedrawOverlay()}function extractRange(ranges,coord){for(var axis,from,to,key,axes=allAxes(),i=0;i<axes.length;++i)if(axis=axes[i],axis.direction==coord&&(key=coord+axis.n+"axis",ranges[key]||1!=axis.n||(key=coord+"axis"),ranges[key])){from=ranges[key].from,to=ranges[key].to;break}if(ranges[key]||(axis="x"==coord?xaxes[0]:yaxes[0],from=ranges[coord+"1"],to=ranges[coord+"2"]),null!=from&&null!=to&&from>to){var tmp=from;from=to,to=tmp}return{from:from,to:to,axis:axis}}function drawBackground(){ctx.save(),ctx.translate(plotOffset.left,plotOffset.top),ctx.fillStyle=getColorOrGradient(options.grid.backgroundColor,plotHeight,0,"rgba(255, 255, 255, 0)"),ctx.fillRect(0,0,plotWidth,plotHeight),ctx.restore()}function drawGrid(){var i,axes,bw,bc;ctx.save(),ctx.translate(plotOffset.left,plotOffset.top);var markings=options.grid.markings;if(markings)for($.isFunction(markings)&&(axes=plot.getAxes(),axes.xmin=axes.xaxis.min,axes.xmax=axes.xaxis.max,axes.ymin=axes.yaxis.min,axes.ymax=axes.yaxis.max,markings=markings(axes)),i=0;i<markings.length;++i){var m=markings[i],xrange=extractRange(m,"x"),yrange=extractRange(m,"y");if(null==xrange.from&&(xrange.from=xrange.axis.min),null==xrange.to&&(xrange.to=xrange.axis.max),null==yrange.from&&(yrange.from=yrange.axis.min),null==yrange.to&&(yrange.to=yrange.axis.max),!(xrange.to<xrange.axis.min||xrange.from>xrange.axis.max||yrange.to<yrange.axis.min||yrange.from>yrange.axis.max)){xrange.from=Math.max(xrange.from,xrange.axis.min),xrange.to=Math.min(xrange.to,xrange.axis.max),yrange.from=Math.max(yrange.from,yrange.axis.min),yrange.to=Math.min(yrange.to,yrange.axis.max);var xequal=xrange.from===xrange.to,yequal=yrange.from===yrange.to;if(!xequal||!yequal)if(xrange.from=Math.floor(xrange.axis.p2c(xrange.from)),xrange.to=Math.floor(xrange.axis.p2c(xrange.to)),yrange.from=Math.floor(yrange.axis.p2c(yrange.from)),yrange.to=Math.floor(yrange.axis.p2c(yrange.to)),xequal||yequal){var lineWidth=m.lineWidth||options.grid.markingsLineWidth,subPixel=lineWidth%2?.5:0;ctx.beginPath(),ctx.strokeStyle=m.color||options.grid.markingsColor,ctx.lineWidth=lineWidth,xequal?(ctx.moveTo(xrange.to+subPixel,yrange.from),ctx.lineTo(xrange.to+subPixel,yrange.to)):(ctx.moveTo(xrange.from,yrange.to+subPixel),ctx.lineTo(xrange.to,yrange.to+subPixel)),ctx.stroke()}else ctx.fillStyle=m.color||options.grid.markingsColor,ctx.fillRect(xrange.from,yrange.to,xrange.to-xrange.from,yrange.from-yrange.to)}}axes=allAxes(),bw=options.grid.borderWidth;for(var j=0;j<axes.length;++j){var x,y,xoff,yoff,axis=axes[j],box=axis.box,t=axis.tickLength;if(axis.show&&0!=axis.ticks.length){for(ctx.lineWidth=1,"x"==axis.direction?(x=0,y="full"==t?"top"==axis.position?0:plotHeight:box.top-plotOffset.top+("top"==axis.position?box.height:0)):(y=0,x="full"==t?"left"==axis.position?0:plotWidth:box.left-plotOffset.left+("left"==axis.position?box.width:0)),axis.innermost||(ctx.strokeStyle=axis.options.color,ctx.beginPath(),xoff=yoff=0,"x"==axis.direction?xoff=plotWidth+1:yoff=plotHeight+1,1==ctx.lineWidth&&("x"==axis.direction?y=Math.floor(y)+.5:x=Math.floor(x)+.5),ctx.moveTo(x,y),ctx.lineTo(x+xoff,y+yoff),ctx.stroke()),ctx.strokeStyle=axis.options.tickColor,ctx.beginPath(),i=0;i<axis.ticks.length;++i){var v=axis.ticks[i].v;xoff=yoff=0,isNaN(v)||v<axis.min||v>axis.max||"full"==t&&("object"==typeof bw&&bw[axis.position]>0||bw>0)&&(v==axis.min||v==axis.max)||("x"==axis.direction?(x=axis.p2c(v),yoff="full"==t?-plotHeight:t,"top"==axis.position&&(yoff=-yoff)):(y=axis.p2c(v),xoff="full"==t?-plotWidth:t,"left"==axis.position&&(xoff=-xoff)),1==ctx.lineWidth&&("x"==axis.direction?x=Math.floor(x)+.5:y=Math.floor(y)+.5),ctx.moveTo(x,y),ctx.lineTo(x+xoff,y+yoff))}ctx.stroke()}}bw&&(bc=options.grid.borderColor,"object"==typeof bw||"object"==typeof bc?("object"!=typeof bw&&(bw={top:bw,right:bw,bottom:bw,left:bw}),"object"!=typeof bc&&(bc={top:bc,right:bc,bottom:bc,left:bc}),bw.top>0&&(ctx.strokeStyle=bc.top,ctx.lineWidth=bw.top,ctx.beginPath(),ctx.moveTo(0-bw.left,0-bw.top/2),ctx.lineTo(plotWidth,0-bw.top/2),ctx.stroke()),bw.right>0&&(ctx.strokeStyle=bc.right,ctx.lineWidth=bw.right,ctx.beginPath(),ctx.moveTo(plotWidth+bw.right/2,0-bw.top),ctx.lineTo(plotWidth+bw.right/2,plotHeight),ctx.stroke()),bw.bottom>0&&(ctx.strokeStyle=bc.bottom,ctx.lineWidth=bw.bottom,ctx.beginPath(),ctx.moveTo(plotWidth+bw.right,plotHeight+bw.bottom/2),ctx.lineTo(0,plotHeight+bw.bottom/2),ctx.stroke()),bw.left>0&&(ctx.strokeStyle=bc.left,ctx.lineWidth=bw.left,ctx.beginPath(),ctx.moveTo(0-bw.left/2,plotHeight+bw.bottom),ctx.lineTo(0-bw.left/2,0),ctx.stroke())):(ctx.lineWidth=bw,ctx.strokeStyle=options.grid.borderColor,ctx.strokeRect(-bw/2,-bw/2,plotWidth+bw,plotHeight+bw))),ctx.restore()}function drawAxisLabels(){$.each(allAxes(),function(_,axis){var tick,x,y,halign,valign,box=axis.box,legacyStyles=axis.direction+"Axis "+axis.direction+axis.n+"Axis",layer="flot-"+axis.direction+"-axis flot-"+axis.direction+axis.n+"-axis "+legacyStyles,font=axis.options.font||"flot-tick-label tickLabel";if(surface.removeText(layer),axis.show&&0!=axis.ticks.length)for(var i=0;i<axis.ticks.length;++i)tick=axis.ticks[i],!tick.label||tick.v<axis.min||tick.v>axis.max||("x"==axis.direction?(halign="center",x=plotOffset.left+axis.p2c(tick.v),"bottom"==axis.position?y=box.top+box.padding:(y=box.top+box.height-box.padding,valign="bottom")):(valign="middle",y=plotOffset.top+axis.p2c(tick.v),"left"==axis.position?(x=box.left+box.width-box.padding,halign="right"):x=box.left+box.padding),surface.addText(layer,x,y,tick.label,font,null,null,halign,valign))})}function drawSeries(series){series.lines.show&&drawSeriesLines(series),series.bars.show&&drawSeriesBars(series),series.points.show&&drawSeriesPoints(series)}function drawSeriesLines(series){function plotLine(datapoints,xoffset,yoffset,axisx,axisy){var points=datapoints.points,ps=datapoints.pointsize,prevx=null,prevy=null;ctx.beginPath();for(var i=ps;i<points.length;i+=ps){var x1=points[i-ps],y1=points[i-ps+1],x2=points[i],y2=points[i+1];if(null!=x1&&null!=x2){if(y1<=y2&&y1<axisy.min){if(y2<axisy.min)continue;x1=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1,y1=axisy.min}else if(y2<=y1&&y2<axisy.min){if(y1<axisy.min)continue;x2=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1,y2=axisy.min}if(y1>=y2&&y1>axisy.max){if(y2>axisy.max)continue;x1=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1,y1=axisy.max}else if(y2>=y1&&y2>axisy.max){if(y1>axisy.max)continue;x2=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1,y2=axisy.max}if(x1<=x2&&x1<axisx.min){if(x2<axisx.min)continue;y1=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1,x1=axisx.min}else if(x2<=x1&&x2<axisx.min){if(x1<axisx.min)continue;y2=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1,x2=axisx.min}if(x1>=x2&&x1>axisx.max){if(x2>axisx.max)continue;y1=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1,x1=axisx.max}else if(x2>=x1&&x2>axisx.max){if(x1>axisx.max)continue;y2=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1,x2=axisx.max}x1==prevx&&y1==prevy||ctx.moveTo(axisx.p2c(x1)+xoffset,axisy.p2c(y1)+yoffset),prevx=x2,prevy=y2,ctx.lineTo(axisx.p2c(x2)+xoffset,axisy.p2c(y2)+yoffset)}}ctx.stroke()}function plotLineArea(datapoints,axisx,axisy){for(var points=datapoints.points,ps=datapoints.pointsize,bottom=Math.min(Math.max(0,axisy.min),axisy.max),i=0,areaOpen=!1,ypos=1,segmentStart=0,segmentEnd=0;;){if(ps>0&&i>points.length+ps)break;i+=ps;var x1=points[i-ps],y1=points[i-ps+ypos],x2=points[i],y2=points[i+ypos];if(areaOpen){if(ps>0&&null!=x1&&null==x2){segmentEnd=i,ps=-ps,ypos=2;continue}if(ps<0&&i==segmentStart+ps){ctx.fill(),areaOpen=!1,ps=-ps,ypos=1,i=segmentStart=segmentEnd+ps;continue}}if(null!=x1&&null!=x2){if(x1<=x2&&x1<axisx.min){if(x2<axisx.min)continue;y1=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1,x1=axisx.min}else if(x2<=x1&&x2<axisx.min){if(x1<axisx.min)continue;y2=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1,x2=axisx.min}if(x1>=x2&&x1>axisx.max){if(x2>axisx.max)continue;y1=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1,x1=axisx.max}else if(x2>=x1&&x2>axisx.max){if(x1>axisx.max)continue;y2=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1,x2=axisx.max}if(areaOpen||(ctx.beginPath(),ctx.moveTo(axisx.p2c(x1),axisy.p2c(bottom)),areaOpen=!0),y1>=axisy.max&&y2>=axisy.max)ctx.lineTo(axisx.p2c(x1),axisy.p2c(axisy.max)),ctx.lineTo(axisx.p2c(x2),axisy.p2c(axisy.max));else if(y1<=axisy.min&&y2<=axisy.min)ctx.lineTo(axisx.p2c(x1),axisy.p2c(axisy.min)),ctx.lineTo(axisx.p2c(x2),axisy.p2c(axisy.min));else{var x1old=x1,x2old=x2;y1<=y2&&y1<axisy.min&&y2>=axisy.min?(x1=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1,y1=axisy.min):y2<=y1&&y2<axisy.min&&y1>=axisy.min&&(x2=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1,y2=axisy.min),y1>=y2&&y1>axisy.max&&y2<=axisy.max?(x1=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1,y1=axisy.max):y2>=y1&&y2>axisy.max&&y1<=axisy.max&&(x2=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1,y2=axisy.max),x1!=x1old&&ctx.lineTo(axisx.p2c(x1old),axisy.p2c(y1)),ctx.lineTo(axisx.p2c(x1),axisy.p2c(y1)),ctx.lineTo(axisx.p2c(x2),axisy.p2c(y2)),x2!=x2old&&(ctx.lineTo(axisx.p2c(x2),axisy.p2c(y2)),ctx.lineTo(axisx.p2c(x2old),axisy.p2c(y2)))}}}}ctx.save(),ctx.translate(plotOffset.left,plotOffset.top),ctx.lineJoin="round";var lw=series.lines.lineWidth,sw=series.shadowSize;if(lw>0&&sw>0){ctx.lineWidth=sw,ctx.strokeStyle="rgba(0,0,0,0.1)";var angle=Math.PI/18;plotLine(series.datapoints,Math.sin(angle)*(lw/2+sw/2),Math.cos(angle)*(lw/2+sw/2),series.xaxis,series.yaxis),ctx.lineWidth=sw/2,plotLine(series.datapoints,Math.sin(angle)*(lw/2+sw/4),Math.cos(angle)*(lw/2+sw/4),series.xaxis,series.yaxis)}ctx.lineWidth=lw,ctx.strokeStyle=series.color;var fillStyle=getFillStyle(series.lines,series.color,0,plotHeight);fillStyle&&(ctx.fillStyle=fillStyle,plotLineArea(series.datapoints,series.xaxis,series.yaxis)),lw>0&&plotLine(series.datapoints,0,0,series.xaxis,series.yaxis),ctx.restore()}function drawSeriesPoints(series){function plotPoints(datapoints,radius,fillStyle,offset,shadow,axisx,axisy,symbol){for(var points=datapoints.points,ps=datapoints.pointsize,i=0;i<points.length;i+=ps){var x=points[i],y=points[i+1];null==x||x<axisx.min||x>axisx.max||y<axisy.min||y>axisy.max||(ctx.beginPath(),x=axisx.p2c(x),y=axisy.p2c(y)+offset,"circle"==symbol?ctx.arc(x,y,radius,0,shadow?Math.PI:2*Math.PI,!1):symbol(ctx,x,y,radius,shadow),ctx.closePath(),fillStyle&&(ctx.fillStyle=fillStyle,ctx.fill()),ctx.stroke())}}ctx.save(),ctx.translate(plotOffset.left,plotOffset.top);var lw=series.points.lineWidth,sw=series.shadowSize,radius=series.points.radius,symbol=series.points.symbol;if(0==lw&&(lw=1e-4),lw>0&&sw>0){var w=sw/2;ctx.lineWidth=w,ctx.strokeStyle="rgba(0,0,0,0.1)",plotPoints(series.datapoints,radius,null,w+w/2,!0,series.xaxis,series.yaxis,symbol),ctx.strokeStyle="rgba(0,0,0,0.2)",plotPoints(series.datapoints,radius,null,w/2,!0,series.xaxis,series.yaxis,symbol)}ctx.lineWidth=lw,ctx.strokeStyle=series.color,plotPoints(series.datapoints,radius,getFillStyle(series.points,series.color),0,!1,series.xaxis,series.yaxis,symbol),ctx.restore()}function drawBar(x,y,b,barLeft,barRight,fillStyleCallback,axisx,axisy,c,horizontal,lineWidth){var left,right,bottom,top,drawLeft,drawRight,drawTop,drawBottom,tmp;horizontal?(drawBottom=drawRight=drawTop=!0,drawLeft=!1,left=b,right=x,top=y+barLeft,bottom=y+barRight,right<left&&(tmp=right,right=left,left=tmp,drawLeft=!0,drawRight=!1)):(drawLeft=drawRight=drawTop=!0,drawBottom=!1,left=x+barLeft,right=x+barRight,bottom=b,top=y,top<bottom&&(tmp=top,top=bottom,bottom=tmp,drawBottom=!0,drawTop=!1)),right<axisx.min||left>axisx.max||top<axisy.min||bottom>axisy.max||(left<axisx.min&&(left=axisx.min,drawLeft=!1),right>axisx.max&&(right=axisx.max,drawRight=!1),bottom<axisy.min&&(bottom=axisy.min,drawBottom=!1),top>axisy.max&&(top=axisy.max,drawTop=!1),left=axisx.p2c(left),bottom=axisy.p2c(bottom),right=axisx.p2c(right),top=axisy.p2c(top),fillStyleCallback&&(c.fillStyle=fillStyleCallback(bottom,top),c.fillRect(left,top,right-left,bottom-top)),lineWidth>0&&(drawLeft||drawRight||drawTop||drawBottom)&&(c.beginPath(),c.moveTo(left,bottom),drawLeft?c.lineTo(left,top):c.moveTo(left,top),drawTop?c.lineTo(right,top):c.moveTo(right,top),drawRight?c.lineTo(right,bottom):c.moveTo(right,bottom),drawBottom?c.lineTo(left,bottom):c.moveTo(left,bottom),c.stroke()))}function drawSeriesBars(series){function plotBars(datapoints,barLeft,barRight,fillStyleCallback,axisx,axisy){for(var points=datapoints.points,ps=datapoints.pointsize,i=0;i<points.length;i+=ps)null!=points[i]&&drawBar(points[i],points[i+1],points[i+2],barLeft,barRight,fillStyleCallback,axisx,axisy,ctx,series.bars.horizontal,series.bars.lineWidth)}ctx.save(),ctx.translate(plotOffset.left,plotOffset.top),ctx.lineWidth=series.bars.lineWidth,ctx.strokeStyle=series.color;var barLeft;switch(series.bars.align){case"left":barLeft=0;break;case"right":barLeft=-series.bars.barWidth;break;default:barLeft=-series.bars.barWidth/2}var fillStyleCallback=series.bars.fill?function(bottom,top){return getFillStyle(series.bars,series.color,bottom,top)}:null;plotBars(series.datapoints,barLeft,barLeft+series.bars.barWidth,fillStyleCallback,series.xaxis,series.yaxis),ctx.restore()}function getFillStyle(filloptions,seriesColor,bottom,top){var fill=filloptions.fill;if(!fill)return null;if(filloptions.fillColor)return getColorOrGradient(filloptions.fillColor,bottom,top,seriesColor);var c=$.color.parse(seriesColor);return c.a="number"==typeof fill?fill:.4,c.normalize(),c.toString()}function insertLegend(){if(null!=options.legend.container?$(options.legend.container).html(""):placeholder.find(".legend").remove(),options.legend.show){for(var s,label,fragments=[],entries=[],rowStarted=!1,lf=options.legend.labelFormatter,i=0;i<series.length;++i)s=series[i],s.label&&(label=lf?lf(s.label,s):s.label,label&&entries.push({label:label,color:s.color}));if(options.legend.sorted)if($.isFunction(options.legend.sorted))entries.sort(options.legend.sorted);else if("reverse"==options.legend.sorted)entries.reverse();else{var ascending="descending"!=options.legend.sorted;entries.sort(function(a,b){return a.label==b.label?0:a.label<b.label!=ascending?1:-1})}for(var i=0;i<entries.length;++i){var entry=entries[i];i%options.legend.noColumns==0&&(rowStarted&&fragments.push("</tr>"),fragments.push("<tr>"),rowStarted=!0),fragments.push('<td class="legendColorBox"><div style="border:1px solid '+options.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+entry.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+entry.label+"</td>")}if(rowStarted&&fragments.push("</tr>"),0!=fragments.length){var table='<table style="font-size:smaller;color:'+options.grid.color+'">'+fragments.join("")+"</table>";if(null!=options.legend.container)$(options.legend.container).html(table);else{var pos="",p=options.legend.position,m=options.legend.margin;null==m[0]&&(m=[m,m]),"n"==p.charAt(0)?pos+="top:"+(m[1]+plotOffset.top)+"px;":"s"==p.charAt(0)&&(pos+="bottom:"+(m[1]+plotOffset.bottom)+"px;"),"e"==p.charAt(1)?pos+="right:"+(m[0]+plotOffset.right)+"px;":"w"==p.charAt(1)&&(pos+="left:"+(m[0]+plotOffset.left)+"px;");var legend=$('<div class="legend">'+table.replace('style="','style="position:absolute;'+pos+";")+"</div>").appendTo(placeholder);if(0!=options.legend.backgroundOpacity){var c=options.legend.backgroundColor;null==c&&(c=options.grid.backgroundColor,c=c&&"string"==typeof c?$.color.parse(c):$.color.extract(legend,"background-color"),c.a=1,c=c.toString());var div=legend.children();$('<div style="position:absolute;width:'+div.width()+"px;height:"+div.height()+"px;"+pos+"background-color:"+c+';"> </div>').prependTo(legend).css("opacity",options.legend.backgroundOpacity)}}}}}function findNearbyItem(mouseX,mouseY,seriesFilter){var i,j,ps,maxDistance=options.grid.mouseActiveRadius,smallestDistance=maxDistance*maxDistance+1,item=null;for(i=series.length-1;i>=0;--i)if(seriesFilter(series[i])){var s=series[i],axisx=s.xaxis,axisy=s.yaxis,points=s.datapoints.points,mx=axisx.c2p(mouseX),my=axisy.c2p(mouseY),maxx=maxDistance/axisx.scale,maxy=maxDistance/axisy.scale;if(ps=s.datapoints.pointsize,axisx.options.inverseTransform&&(maxx=Number.MAX_VALUE),axisy.options.inverseTransform&&(maxy=Number.MAX_VALUE),s.lines.show||s.points.show)for(j=0;j<points.length;j+=ps){var x=points[j],y=points[j+1];if(null!=x&&!(x-mx>maxx||x-mx<-maxx||y-my>maxy||y-my<-maxy)){var dx=Math.abs(axisx.p2c(x)-mouseX),dy=Math.abs(axisy.p2c(y)-mouseY),dist=dx*dx+dy*dy;dist<smallestDistance&&(smallestDistance=dist,item=[i,j/ps])}}if(s.bars.show&&!item){var barLeft,barRight;switch(s.bars.align){case"left":barLeft=0;break;case"right":barLeft=-s.bars.barWidth;break;default:barLeft=-s.bars.barWidth/2}for(barRight=barLeft+s.bars.barWidth,j=0;j<points.length;j+=ps){var x=points[j],y=points[j+1],b=points[j+2];null!=x&&(series[i].bars.horizontal?mx<=Math.max(b,x)&&mx>=Math.min(b,x)&&my>=y+barLeft&&my<=y+barRight:mx>=x+barLeft&&mx<=x+barRight&&my>=Math.min(b,y)&&my<=Math.max(b,y))&&(item=[i,j/ps])}}}return item?(i=item[0],j=item[1],ps=series[i].datapoints.pointsize,{datapoint:series[i].datapoints.points.slice(j*ps,(j+1)*ps),dataIndex:j,series:series[i],seriesIndex:i}):null}function onMouseMove(e){options.grid.hoverable&&triggerClickHoverEvent("plothover",e,function(s){return 0!=s.hoverable})}function onMouseLeave(e){options.grid.hoverable&&triggerClickHoverEvent("plothover",e,function(s){return!1})}function onClick(e){triggerClickHoverEvent("plotclick",e,function(s){return 0!=s.clickable})}function triggerClickHoverEvent(eventname,event,seriesFilter){var offset=eventHolder.offset(),canvasX=event.pageX-offset.left-plotOffset.left,canvasY=event.pageY-offset.top-plotOffset.top,pos=canvasToAxisCoords({left:canvasX,top:canvasY});pos.pageX=event.pageX,pos.pageY=event.pageY;var item=findNearbyItem(canvasX,canvasY,seriesFilter);if(item&&(item.pageX=parseInt(item.series.xaxis.p2c(item.datapoint[0])+offset.left+plotOffset.left,10),item.pageY=parseInt(item.series.yaxis.p2c(item.datapoint[1])+offset.top+plotOffset.top,10)),options.grid.autoHighlight){for(var i=0;i<highlights.length;++i){var h=highlights[i];h.auto!=eventname||item&&h.series==item.series&&h.point[0]==item.datapoint[0]&&h.point[1]==item.datapoint[1]||unhighlight(h.series,h.point)}item&&highlight(item.series,item.datapoint,eventname)}placeholder.trigger(eventname,[pos,item])}function triggerRedrawOverlay(){var t=options.interaction.redrawOverlayInterval;return t==-1?void drawOverlay():void(redrawTimeout||(redrawTimeout=setTimeout(drawOverlay,t)))}function drawOverlay(){redrawTimeout=null,octx.save(),overlay.clear(),octx.translate(plotOffset.left,plotOffset.top);var i,hi;for(i=0;i<highlights.length;++i)hi=highlights[i],hi.series.bars.show?drawBarHighlight(hi.series,hi.point):drawPointHighlight(hi.series,hi.point);octx.restore(),executeHooks(hooks.drawOverlay,[octx])}function highlight(s,point,auto){if("number"==typeof s&&(s=series[s]),"number"==typeof point){var ps=s.datapoints.pointsize;point=s.datapoints.points.slice(ps*point,ps*(point+1))}var i=indexOfHighlight(s,point);i==-1?(highlights.push({series:s,point:point,auto:auto}),triggerRedrawOverlay()):auto||(highlights[i].auto=!1)}function unhighlight(s,point){if(null==s&&null==point)return highlights=[],void triggerRedrawOverlay();if("number"==typeof s&&(s=series[s]),"number"==typeof point){var ps=s.datapoints.pointsize;point=s.datapoints.points.slice(ps*point,ps*(point+1))}var i=indexOfHighlight(s,point);i!=-1&&(highlights.splice(i,1),triggerRedrawOverlay())}function indexOfHighlight(s,p){for(var i=0;i<highlights.length;++i){var h=highlights[i];if(h.series==s&&h.point[0]==p[0]&&h.point[1]==p[1])return i}return-1}function drawPointHighlight(series,point){var x=point[0],y=point[1],axisx=series.xaxis,axisy=series.yaxis,highlightColor="string"==typeof series.highlightColor?series.highlightColor:$.color.parse(series.color).scale("a",.5).toString();if(!(x<axisx.min||x>axisx.max||y<axisy.min||y>axisy.max)){var pointRadius=series.points.radius+series.points.lineWidth/2;octx.lineWidth=pointRadius,octx.strokeStyle=highlightColor;var radius=1.5*pointRadius;x=axisx.p2c(x),y=axisy.p2c(y),octx.beginPath(),"circle"==series.points.symbol?octx.arc(x,y,radius,0,2*Math.PI,!1):series.points.symbol(octx,x,y,radius,!1),octx.closePath(),octx.stroke()}}function drawBarHighlight(series,point){var barLeft,highlightColor="string"==typeof series.highlightColor?series.highlightColor:$.color.parse(series.color).scale("a",.5).toString(),fillStyle=highlightColor;switch(series.bars.align){case"left":barLeft=0;break;case"right":barLeft=-series.bars.barWidth;break;default:barLeft=-series.bars.barWidth/2}octx.lineWidth=series.bars.lineWidth,octx.strokeStyle=highlightColor,drawBar(point[0],point[1],point[2]||0,barLeft,barLeft+series.bars.barWidth,function(){return fillStyle},series.xaxis,series.yaxis,octx,series.bars.horizontal,series.bars.lineWidth)}function getColorOrGradient(spec,bottom,top,defaultColor){if("string"==typeof spec)return spec;for(var gradient=ctx.createLinearGradient(0,top,0,bottom),i=0,l=spec.colors.length;i<l;++i){var c=spec.colors[i];if("string"!=typeof c){var co=$.color.parse(defaultColor);null!=c.brightness&&(co=co.scale("rgb",c.brightness)),null!=c.opacity&&(co.a*=c.opacity),c=co.toString()}gradient.addColorStop(i/(l-1),c)}return gradient}var series=[],options={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},surface=null,overlay=null,eventHolder=null,ctx=null,octx=null,xaxes=[],yaxes=[],plotOffset={left:0,right:0,top:0,bottom:0},plotWidth=0,plotHeight=0,hooks={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},plot=this;plot.setData=setData,plot.setupGrid=setupGrid,plot.draw=draw,plot.getPlaceholder=function(){return placeholder},plot.getCanvas=function(){return surface.element},plot.getPlotOffset=function(){return plotOffset},plot.width=function(){return plotWidth},plot.height=function(){return plotHeight},plot.offset=function(){var o=eventHolder.offset();return o.left+=plotOffset.left,o.top+=plotOffset.top,o},plot.getData=function(){return series},plot.getAxes=function(){var res={};return $.each(xaxes.concat(yaxes),function(_,axis){axis&&(res[axis.direction+(1!=axis.n?axis.n:"")+"axis"]=axis)}),res},plot.getXAxes=function(){return xaxes},plot.getYAxes=function(){return yaxes},plot.c2p=canvasToAxisCoords,plot.p2c=axisToCanvasCoords,plot.getOptions=function(){return options},plot.highlight=highlight,plot.unhighlight=unhighlight,plot.triggerRedrawOverlay=triggerRedrawOverlay,plot.pointOffset=function(point){return{left:parseInt(xaxes[axisNumber(point,"x")-1].p2c(+point.x)+plotOffset.left,10),top:parseInt(yaxes[axisNumber(point,"y")-1].p2c(+point.y)+plotOffset.top,10)}},plot.shutdown=shutdown,plot.destroy=function(){shutdown(),placeholder.removeData("plot").empty(),series=[],options=null,surface=null,overlay=null,eventHolder=null,ctx=null,octx=null,xaxes=[],yaxes=[],hooks=null,highlights=[],plot=null},plot.resize=function(){var width=placeholder.width(),height=placeholder.height();surface.resize(width,height),overlay.resize(width,height)},plot.hooks=hooks,initPlugins(plot),parseOptions(options_),setupCanvases(),setData(data_),setupGrid(),draw(),bindEvents();var highlights=[],redrawTimeout=null}function floorInBase(n,base){return base*Math.floor(n/base)}var hasOwnProperty=Object.prototype.hasOwnProperty;$.fn.detach||($.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),Canvas.prototype.resize=function(width,height){if(width<=0||height<=0)throw new Error("Invalid dimensions for plot, width = "+width+", height = "+height);var element=this.element,context=this.context,pixelRatio=this.pixelRatio;this.width!=width&&(element.width=width*pixelRatio,element.style.width=width+"px",this.width=width),this.height!=height&&(element.height=height*pixelRatio,element.style.height=height+"px",this.height=height),context.restore(),context.save(),context.scale(pixelRatio,pixelRatio)},Canvas.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},Canvas.prototype.render=function(){var cache=this._textCache;for(var layerKey in cache)if(hasOwnProperty.call(cache,layerKey)){var layer=this.getTextLayer(layerKey),layerCache=cache[layerKey];layer.hide();for(var styleKey in layerCache)if(hasOwnProperty.call(layerCache,styleKey)){var styleCache=layerCache[styleKey];for(var key in styleCache)if(hasOwnProperty.call(styleCache,key)){for(var position,positions=styleCache[key].positions,i=0;position=positions[i];i++)position.active?position.rendered||(layer.append(position.element),position.rendered=!0):(positions.splice(i--,1),position.rendered&&position.element.detach());0==positions.length&&delete styleCache[key]}}layer.show()}},Canvas.prototype.getTextLayer=function(classes){var layer=this.text[classes];return null==layer&&(null==this.textContainer&&(this.textContainer=$("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),layer=this.text[classes]=$("<div></div>").addClass(classes).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),layer},Canvas.prototype.getTextInfo=function(layer,text,font,angle,width){var textStyle,layerCache,styleCache,info;if(text=""+text,textStyle="object"==typeof font?font.style+" "+font.variant+" "+font.weight+" "+font.size+"px/"+font.lineHeight+"px "+font.family:font,layerCache=this._textCache[layer],null==layerCache&&(layerCache=this._textCache[layer]={}),styleCache=layerCache[textStyle],null==styleCache&&(styleCache=layerCache[textStyle]={}),info=styleCache[text],null==info){var element=$("<div></div>").html(text).css({position:"absolute","max-width":width,top:-9999}).appendTo(this.getTextLayer(layer));"object"==typeof font?element.css({font:textStyle,color:font.color}):"string"==typeof font&&element.addClass(font),info=styleCache[text]={width:element.outerWidth(!0),height:element.outerHeight(!0),element:element,positions:[]},element.detach()}return info},Canvas.prototype.addText=function(layer,x,y,text,font,angle,width,halign,valign){var info=this.getTextInfo(layer,text,font,angle,width),positions=info.positions;"center"==halign?x-=info.width/2:"right"==halign&&(x-=info.width),"middle"==valign?y-=info.height/2:"bottom"==valign&&(y-=info.height);for(var position,i=0;position=positions[i];i++)if(position.x==x&&position.y==y)return void(position.active=!0);position={active:!0,rendered:!1,element:positions.length?info.element.clone():info.element,x:x,y:y},positions.push(position),position.element.css({top:Math.round(y),left:Math.round(x),"text-align":halign})},Canvas.prototype.removeText=function(layer,x,y,text,font,angle){if(null==text){var layerCache=this._textCache[layer];if(null!=layerCache)for(var styleKey in layerCache)if(hasOwnProperty.call(layerCache,styleKey)){var styleCache=layerCache[styleKey];for(var key in styleCache)if(hasOwnProperty.call(styleCache,key))for(var position,positions=styleCache[key].positions,i=0;position=positions[i];i++)position.active=!1}}else for(var position,positions=this.getTextInfo(layer,text,font,angle).positions,i=0;position=positions[i];i++)position.x==x&&position.y==y&&(position.active=!1)},$.plot=function(placeholder,data,options){var plot=new Plot($(placeholder),data,options,$.plot.plugins);return plot},$.plot.version="0.8.3",$.plot.plugins=[],$.fn.plot=function(data,options){return this.each(function(){$.plot(this,data,options)})}}(jQuery),define("../../bower_components/flot/jquery.flot.js",function(){}),function($,e,t){"$:nomunge";function h(t){r===!0&&(r=t||1);for(var s=i.length-1;s>=0;s--){var l=$(i[s]);if(l[0]==e||l.is(":visible")){var f=l.width(),c=l.height(),d=l.data(m);!d||f===d.w&&c===d.h||(l.trigger(u,[d.w=f,d.h=c]),r=t||!0)}else d=l.data(m),d.w=0,d.h=0}null!==a&&(r&&(null==t||t-r<1e3)?a=e.requestAnimationFrame(h):(a=setTimeout(h,n[o]),r=!1))}var a,i=[],n=$.resize=$.extend($.resize,{}),r=!1,s="setTimeout",u="resize",m=u+"-special-event",o="pendingDelay",l="activeDelay",f="throttleWindow";n[o]=200,n[l]=20,n[f]=!0,$.event.special[u]={setup:function(){if(!n[f]&&this[s])return!1;var e=$(this);i.push(this),e.data(m,{w:e.width(),h:e.height()}),1===i.length&&(a=t,h())},teardown:function(){if(!n[f]&&this[s])return!1;for(var e=$(this),t=i.length-1;t>=0;t--)if(i[t]==this){i.splice(t,1);break}e.removeData(m),i.length||(r?cancelAnimationFrame(a):clearTimeout(a),a=null)},add:function(e){function a(e,n,a){var r=$(this),s=r.data(m)||{};s.w=n!==t?n:r.width(),s.h=a!==t?a:r.height(),i.apply(this,arguments)}if(!n[f]&&this[s])return!1;var i;return $.isFunction(e)?(i=e,a):(i=e.handler,void(e.handler=a))}},e.requestAnimationFrame||(e.requestAnimationFrame=function(){return e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t,i){return e.setTimeout(function(){t((new Date).getTime())},n[l])}}()),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(){return e.webkitCancelRequestAnimationFrame||e.mozCancelRequestAnimationFrame||e.oCancelRequestAnimationFrame||e.msCancelRequestAnimationFrame||clearTimeout}())}(jQuery,this),function($){function init(plot){function onResize(){var placeholder=plot.getPlaceholder();0!=placeholder.width()&&0!=placeholder.height()&&(plot.resize(),plot.setupGrid(),plot.draw())}function bindEvents(plot,eventHolder){
plot.getPlaceholder().resize(onResize)}function shutdown(plot,eventHolder){plot.getPlaceholder().unbind("resize",onResize)}plot.hooks.bindEvents.push(bindEvents),plot.hooks.shutdown.push(shutdown)}var options={};$.plot.plugins.push({init:init,options:options,name:"resize",version:"1.0"})}(jQuery),define("../../bower_components/flot/jquery.flot.resize.js",function(){}),function($){function canvasSupported(){return!!document.createElement("canvas").getContext}function canvasTextSupported(){if(!canvasSupported())return!1;var dummy_canvas=document.createElement("canvas"),context=dummy_canvas.getContext("2d");return"function"==typeof context.fillText}function css3TransitionSupported(){var div=document.createElement("div");return"undefined"!=typeof div.style.MozTransition||"undefined"!=typeof div.style.OTransition||"undefined"!=typeof div.style.webkitTransition||"undefined"!=typeof div.style.transition}function AxisLabel(axisName,position,padding,plot,opts){this.axisName=axisName,this.position=position,this.padding=padding,this.plot=plot,this.opts=opts,this.width=0,this.height=0}function CanvasAxisLabel(axisName,position,padding,plot,opts){AxisLabel.prototype.constructor.call(this,axisName,position,padding,plot,opts)}function HtmlAxisLabel(axisName,position,padding,plot,opts){AxisLabel.prototype.constructor.call(this,axisName,position,padding,plot,opts),this.elem=null}function CssTransformAxisLabel(axisName,position,padding,plot,opts){HtmlAxisLabel.prototype.constructor.call(this,axisName,position,padding,plot,opts)}function IeTransformAxisLabel(axisName,position,padding,plot,opts){CssTransformAxisLabel.prototype.constructor.call(this,axisName,position,padding,plot,opts),this.requiresResize=!1}function init(plot){plot.hooks.processOptions.push(function(plot,options){if(options.axisLabels.show){var secondPass=!1,axisLabels={},defaultPadding=2;plot.hooks.draw.push(function(plot,ctx){var hasAxisLabels=!1;secondPass?(secondPass=!1,$.each(plot.getAxes(),function(axisName,axis){var opts=axis.options||plot.getOptions()[axisName];opts&&opts.axisLabel&&axis.show&&axisLabels[axisName].draw(axis.box)})):($.each(plot.getAxes(),function(axisName,axis){var opts=axis.options||plot.getOptions()[axisName];if(axisName in axisLabels&&(axis.labelHeight=axis.labelHeight-axisLabels[axisName].height,axis.labelWidth=axis.labelWidth-axisLabels[axisName].width,opts.labelHeight=axis.labelHeight,opts.labelWidth=axis.labelWidth,axisLabels[axisName].cleanup(),delete axisLabels[axisName]),opts&&opts.axisLabel&&axis.show){hasAxisLabels=!0;var renderer=null;if(opts.axisLabelUseHtml||"Microsoft Internet Explorer"!=navigator.appName)renderer=opts.axisLabelUseHtml||!css3TransitionSupported()&&!canvasTextSupported()&&!opts.axisLabelUseCanvas?HtmlAxisLabel:opts.axisLabelUseCanvas||!css3TransitionSupported()?CanvasAxisLabel:CssTransformAxisLabel;else{var ua=navigator.userAgent,re=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=re.exec(ua)&&(rv=parseFloat(RegExp.$1)),renderer=rv>=9&&!opts.axisLabelUseCanvas&&!opts.axisLabelUseHtml?CssTransformAxisLabel:opts.axisLabelUseCanvas||opts.axisLabelUseHtml?opts.axisLabelUseCanvas?CanvasAxisLabel:HtmlAxisLabel:IeTransformAxisLabel}var padding=void 0===opts.axisLabelPadding?defaultPadding:opts.axisLabelPadding;axisLabels[axisName]=new renderer(axisName,axis.position,padding,plot,opts),axisLabels[axisName].calculateSize(),opts.labelHeight=axis.labelHeight+axisLabels[axisName].height,opts.labelWidth=axis.labelWidth+axisLabels[axisName].width}}),hasAxisLabels&&(secondPass=!0,plot.setupGrid(),plot.draw()))})}})}var options={axisLabels:{show:!0}};AxisLabel.prototype.cleanup=function(){},CanvasAxisLabel.prototype=new AxisLabel,CanvasAxisLabel.prototype.constructor=CanvasAxisLabel,CanvasAxisLabel.prototype.calculateSize=function(){this.opts.axisLabelFontSizePixels||(this.opts.axisLabelFontSizePixels=14),this.opts.axisLabelFontFamily||(this.opts.axisLabelFontFamily="sans-serif");this.opts.axisLabelFontSizePixels+this.padding,this.opts.axisLabelFontSizePixels+this.padding;"left"==this.position||"right"==this.position?(this.width=this.opts.axisLabelFontSizePixels+this.padding,this.height=0):(this.width=0,this.height=this.opts.axisLabelFontSizePixels+this.padding)},CanvasAxisLabel.prototype.draw=function(box){this.opts.axisLabelColour||(this.opts.axisLabelColour="black");var ctx=this.plot.getCanvas().getContext("2d");ctx.save(),ctx.font=this.opts.axisLabelFontSizePixels+"px "+this.opts.axisLabelFontFamily,ctx.fillStyle=this.opts.axisLabelColour;var x,y,width=ctx.measureText(this.opts.axisLabel).width,height=this.opts.axisLabelFontSizePixels,angle=0;"top"==this.position?(x=box.left+box.width/2-width/2,y=box.top+.72*height):"bottom"==this.position?(x=box.left+box.width/2-width/2,y=box.top+box.height-.72*height):"left"==this.position?(x=box.left+.72*height,y=box.height/2+box.top+width/2,angle=-Math.PI/2):"right"==this.position&&(x=box.left+box.width-.72*height,y=box.height/2+box.top-width/2,angle=Math.PI/2),ctx.translate(x,y),ctx.rotate(angle),ctx.fillText(this.opts.axisLabel,0,0),ctx.restore()},HtmlAxisLabel.prototype=new AxisLabel,HtmlAxisLabel.prototype.constructor=HtmlAxisLabel,HtmlAxisLabel.prototype.calculateSize=function(){var elem=$('<div class="axisLabels" style="position:absolute;">'+this.opts.axisLabel+"</div>");this.plot.getPlaceholder().append(elem),this.labelWidth=elem.outerWidth(!0),this.labelHeight=elem.outerHeight(!0),elem.remove(),this.width=this.height=0,"left"==this.position||"right"==this.position?this.width=this.labelWidth+this.padding:this.height=this.labelHeight+this.padding},HtmlAxisLabel.prototype.cleanup=function(){this.elem&&this.elem.remove()},HtmlAxisLabel.prototype.draw=function(box){this.plot.getPlaceholder().find("#"+this.axisName+"Label").remove(),this.elem=$('<div id="'+this.axisName+'Label" " class="axisLabels" style="position:absolute;">'+this.opts.axisLabel+"</div>"),this.plot.getPlaceholder().append(this.elem),"top"==this.position?(this.elem.css("left",box.left+box.width/2-this.labelWidth/2+"px"),this.elem.css("top",box.top+"px")):"bottom"==this.position?(this.elem.css("left",box.left+box.width/2-this.labelWidth/2+"px"),this.elem.css("top",box.top+box.height-this.labelHeight+"px")):"left"==this.position?(this.elem.css("top",box.top+box.height/2-this.labelHeight/2+"px"),this.elem.css("left",box.left+"px")):"right"==this.position&&(this.elem.css("top",box.top+box.height/2-this.labelHeight/2+"px"),this.elem.css("left",box.left+box.width-this.labelWidth+"px"))},CssTransformAxisLabel.prototype=new HtmlAxisLabel,CssTransformAxisLabel.prototype.constructor=CssTransformAxisLabel,CssTransformAxisLabel.prototype.calculateSize=function(){HtmlAxisLabel.prototype.calculateSize.call(this),this.width=this.height=0,"left"==this.position||"right"==this.position?this.width=this.labelHeight+this.padding:this.height=this.labelHeight+this.padding},CssTransformAxisLabel.prototype.transforms=function(degrees,x,y){var stransforms={"-moz-transform":"","-webkit-transform":"","-o-transform":"","-ms-transform":""};if(0!=x||0!=y){var stdTranslate=" translate("+x+"px, "+y+"px)";stransforms["-moz-transform"]+=stdTranslate,stransforms["-webkit-transform"]+=stdTranslate,stransforms["-o-transform"]+=stdTranslate,stransforms["-ms-transform"]+=stdTranslate}if(0!=degrees){var stdRotate=" rotate("+degrees+"deg)";stransforms["-moz-transform"]+=stdRotate,stransforms["-webkit-transform"]+=stdRotate,stransforms["-o-transform"]+=stdRotate,stransforms["-ms-transform"]+=stdRotate}var s="top: 0; left: 0; ";for(var prop in stransforms)stransforms[prop]&&(s+=prop+":"+stransforms[prop]+";");return s+=";"},CssTransformAxisLabel.prototype.calculateOffsets=function(box){var offsets={x:0,y:0,degrees:0};return"bottom"==this.position?(offsets.x=box.left+box.width/2-this.labelWidth/2,offsets.y=box.top+box.height-this.labelHeight):"top"==this.position?(offsets.x=box.left+box.width/2-this.labelWidth/2,offsets.y=box.top):"left"==this.position?(offsets.degrees=-90,offsets.x=box.left-this.labelWidth/2+this.labelHeight/2,offsets.y=box.height/2+box.top):"right"==this.position&&(offsets.degrees=90,offsets.x=box.left+box.width-this.labelWidth/2-this.labelHeight/2,offsets.y=box.height/2+box.top),offsets.x=Math.round(offsets.x),offsets.y=Math.round(offsets.y),offsets},CssTransformAxisLabel.prototype.draw=function(box){this.plot.getPlaceholder().find("."+this.axisName+"Label").remove();var offsets=this.calculateOffsets(box);this.elem=$('<div class="axisLabels '+this.axisName+'Label" style="position:absolute; '+this.transforms(offsets.degrees,offsets.x,offsets.y)+'">'+this.opts.axisLabel+"</div>"),this.plot.getPlaceholder().append(this.elem)},IeTransformAxisLabel.prototype=new CssTransformAxisLabel,IeTransformAxisLabel.prototype.constructor=IeTransformAxisLabel,IeTransformAxisLabel.prototype.transforms=function(degrees,x,y){var s="";if(0!=degrees){for(var rotation=degrees/90;rotation<0;)rotation+=4;s+=" filter: progid:DXImageTransform.Microsoft.BasicImage(rotation="+rotation+"); ",this.requiresResize="right"==this.position}return 0!=x&&(s+="left: "+x+"px; "),0!=y&&(s+="top: "+y+"px; "),s},IeTransformAxisLabel.prototype.calculateOffsets=function(box){var offsets=CssTransformAxisLabel.prototype.calculateOffsets.call(this,box);return"top"==this.position?offsets.y=box.top+1:"left"==this.position?(offsets.x=box.left,offsets.y=box.height/2+box.top-this.labelWidth/2):"right"==this.position&&(offsets.x=box.left+box.width-this.labelHeight,offsets.y=box.height/2+box.top-this.labelWidth/2),offsets},IeTransformAxisLabel.prototype.draw=function(box){CssTransformAxisLabel.prototype.draw.call(this,box),this.requiresResize&&(this.elem=this.plot.getPlaceholder().find("."+this.axisName+"Label"),this.elem.css("width",this.labelWidth),this.elem.css("height",this.labelHeight))},$.plot.plugins.push({init:init,options:options,name:"axisLabels",version:"2.0"})}(jQuery),define("../../bower_components/flot-axislabels/jquery.flot.axislabels.js",function(){}),define("css!../libs/libs-frontend-TSCurve/dist/css/tsCurve.min",[],function(){}),!function(e){e.fn.TSCurve=function(a){var t,o=e(this),i={showApplicationPoints:!1,motorSelectedIndex:3,rmsPoints:[190,44],peakPoints:[400,60],quadrant:1,sliderLimit:{peakMaxSpeed:800,peakMaxTorque:100,rmsMaxSpeed:800,rmsMaxTorque:100,maxTemp:125,maxAltitude:1e4,maxVoltage:10,maxTrRatio:100},showQuadrantToggle:!0,showMotorTsCurve:!0,showMotorSelForm:!0,showAppPointsForm:!0,showEnviorForm:!0,showTransmissionForm:!0,uniqeId:"1"},d=e.extend({},i,a),l=function(){var a=e('<div class="tsCruveContainer row m-0"></div>');o.append(a),n(a)},n=function(a){var t=e('<div id="servoMotorTSCurve"></div>');if(a.append(t),d.showMotorSelForm||d.showAppPointsForm||d.showEnviorForm||d.showTransmissionForm){t.addClass("col-md-7");var o=e('<div class="col-md-5 row" id="servoMotorArea"></div>');a.append(o),r(o)}else t.addClass("col-md-12 widthMaxLimit");q(t),k()},r=function(a){var t=e('<div id="motorAreaAccordionContainer"></div>');a.append(t);var o=e('<div class="panel-group" id="accordion'+d.uniqeId+'" role="tablist" aria-multiselectable="true"></div>');t.append(o),d.showMotorTsCurve||(d.showMotorSelForm=!1),d.showMotorSelForm&&s(o),d.showApplicationPoints||(d.showAppPointsForm=!1),d.showAppPointsForm&&c(o),d.showEnviorForm&&S(o),d.showTransmissionForm&&x(o),p()},s=function(a){var t=e('<div class="panelNew panel-defaultNew"></div>');a.append(t);var o=e('<div class="panel-heading panelHeadingNew" role="tab" id="headingOne"> <h4 class="panel-title"> <span id="panelHeading"> Solution Selection</span> <span class="accordion-plus-minus  pull-right" aria-hidden="true" style="color: grey;"></span></h4> </div>');t.append(o);var i=e('<div id="collapseOne" class="panel-collapse collapse motorDataOpenPanle" role="tabpanel" aria-labelledby="headingOne"></div>');t.append(i);var d=e('<div class="panel-body"></div>');i.append(d),t.on("show.bs.collapse",function(a){e(this).find(".accordion-plus-minus").removeClass("glyphicon-chevron-down fa fa-chevron-down").addClass("glyphicon-chevron-up fa fa-chevron-up")}),t.on("hide.bs.collapse",function(a){e(this).find(".accordion-plus-minus").removeClass("glyphicon-chevron-up fa fa-chevron-up").addClass("glyphicon-chevron-down fa fa-chevron-down")}),u(t)},u=function(a){for(var t=d.motorData.length,i=[],l=0;t>l;l++)i.push(l);var n=a.find("#collapseOne .panel-body"),r=e('<div id="motorDataContainer" class="row"></div>');n.append(r);var s=e('<div class="col-sm-3 title"><span id="solutionTitle">Solution Size: </sapn></div>');r.append(s);var u=e('<div class="col-sm-9"><input width="300" id="solutionSliderId" class="span2" type="text" data-slider-id="sizeSlider" data-slider-ticks="['+i+']" data-slider-min="0" data-slider-max="'+t+'" data-slider-step="1" data-slider-value="'+d.motorSelectedIndex+'" data-slider-tooltip="hide"  /></div>');r.append(u);var c=e('<div class="col-sm-11 solutionDivider"></div>');r.append(c);var m=e('<div class="col-sm-12 solutionInfoTitle">Solution Summary</div>');r.append(m);var v=e('<div class="col-sm-12 solutionInfoContainer row"></div>');r.append(v);var f=e('<div class="col-sm-6"><span class="driveTitle">Drive:</span><span class="driveName" id="driveNameId">'+d.motorData[d.motorSelectedIndex].drivePartNo+"</span></div>");v.append(f);var S=e('<div class="col-sm-6"><span class="motorTitle">Motor:</span><span class="motorName" id="motorNameId">'+d.motorData[d.motorSelectedIndex].motorPartNo+"</span></div>");v.append(S);var h=e('<div class="col-sm-12 solutionInfoContainer row"></div>');r.append(h);var x=e('<div class="col-sm-6"><span class="voltageTitle">Voltage:</span><span class="voltageName" id="voltageInfoId">'+d.motorData[d.motorSelectedIndex].voltage+" V</span></div>");h.append(x);var T=e('<div class="col-sm-6"><span class="solutionStatusTitle">Solution Status:</span><span class="solutionStatus motorPass" id="statusValueContainer">Pass</span></div>');h.append(T),u.find("#solutionSliderId").slider({}).on("change",function(e){console.log(d.motorData[e.value.newValue].drivePartNo),r.find("#driveNameId").text(d.motorData[e.value.newValue].drivePartNo),r.find("#motorNameId").text(d.motorData[e.value.newValue].motorPartNo),r.find("#voltageInfoId").text(d.motorData[e.value.newValue].voltage+" V"),d.motorSelectedIndex=e.value.newValue,o.find("#tempSlider").slider("setValue",d.motorData[d.motorSelectedIndex].temp),o.find("#tempValue").val(d.motorData[d.motorSelectedIndex].temp),o.find("#altitudeSlider").slider("setValue",d.motorData[d.motorSelectedIndex].altitude),o.find("#altitudeValue").val(d.motorData[d.motorSelectedIndex].altitude),d.defaultPeakStallTorque=d.motorData[d.motorSelectedIndex].peakStallTorque,d.defaultRollOffPoint=d.motorData[d.motorSelectedIndex].rollOffPoint,d.defaultRollOffSpeed=d.motorData[d.motorSelectedIndex].rollOffSpeed,d.defaultPeakTorqueAtMaxSpeed=d.motorData[d.motorSelectedIndex].peakTorqueAtMaxSpeed,d.defaultContinuousStallTorque=d.motorData[d.motorSelectedIndex].continuousStallTorque,d.defaultContinuosTorqueAtMaxSpeed=d.motorData[d.motorSelectedIndex].continuosTorqueAtMaxSpeed,d.motorSelectedIndex=e.value.newValue,P(),p()})},p=function(){var e=C(d.motorData[d.motorSelectedIndex]).status;if(d.showMotorSelForm){var a=o.find("#statusValueContainer");a.removeClass("motorPass"),a.removeClass("motorFail"),a.addClass(e?"motorPass":"motorFail"),a.text(e?"Pass":"Fail")}if(d.showAppPointsForm){var t=o.find("#servoMotorArea #tsPointsPanelContainer #statusValueContainer");t.find(".motorStatusIcon").removeClass("glyphicon-remove").removeClass("glyphicon-ok").addClass(e?"glyphicon-ok":"glyphicon-remove"),t.find("#statusValueLabel").text(e?"Motor Pass":"Motor Fail")}},c=function(a){var t=e('<div class="panel panel-default"></div>');a.append(t);var o=e('<div class="panel-heading" role="tab" id="headingTwo"> <h4 class="panel-title"> <a role="button" data-parent="#accordion'+d.uniqeId+'" data-toggle="collapse"  href="#collapseTwo'+d.uniqeId+'" aria-controls="collapseTwo" aria-expanded="false"><span>Application Torque Speed Requirements </span><span class="accordion-plus-minus glyphicon pull-right glyphicon-chevron-down fa fa-chevron-down" aria-hidden="true" style="color: grey;"></span> </a> </h4> </div>');t.append(o);var i=e('<div id="collapseTwo'+d.uniqeId+'" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo"></div>');t.append(i),t.on("show.bs.collapse",function(a){e(this).find(".accordion-plus-minus").removeClass("glyphicon-chevron-down fa fa-chevron-down").addClass("glyphicon-chevron-up fa fa-chevron-up")}),t.on("hide.bs.collapse",function(a){e(this).find(".accordion-plus-minus").removeClass("glyphicon-chevron-up fa fa-chevron-up").addClass("glyphicon-chevron-down fa fa-chevron-down")}),d.showMotorSelForm||i.addClass("in"),f(i)},m=function(e,a){var i=t.getData();switch(e){case"PeakSpeed":i[1].data[0][0]=d.peakPoints[0]=a,d.defaultPeakSpeed=a,o.find("#peakSpeedSlider").slider("setValue",a);break;case"PeakTorque":i[1].data[0][1]=d.peakPoints[1]=a,d.defaultPeakTorque=a,o.find("#peakTorqueSlider").slider("setValue",a);break;case"RmsSpeed":i[3].data[0][0]=d.rmsPoints[0]=a,d.defaultRmsSpeed=a,o.find("#rmsSpeedSlider").slider("setValue",a);break;case"RmsTorque":i[3].data[0][1]=d.rmsPoints[1]=a,d.defaultRmsTorque=a,o.find("#rmsTorqueSlider").slider("setValue",a);break;case"TransmissionRatio":var l=a,i=t.getData();i[1].data[0][0]=d.peakPoints[0]=(d.defaultPeakSpeed*l).toFixed(2),i[1].data[0][1]=d.peakPoints[1]=(d.defaultPeakTorque/l).toFixed(2),i[3].data[0][0]=d.rmsPoints[0]=(d.defaultRmsSpeed*l).toFixed(2),i[3].data[0][1]=d.rmsPoints[1]=(d.defaultRmsTorque/l).toFixed(2),i[1].data[0][0]>d.sliderLimit.peakMaxSpeed?o.find("#peakSpeedValue").attr("max",parseInt(i[1].data[0][0])):o.find("#peakSpeedValue").attr("max",d.sliderLimit.peakMaxSpeed),i[3].data[0][0]>d.sliderLimit.rmsMaxSpeed?o.find("#rmsSpeedValue").attr("max",parseInt(i[3].data[0][0])):o.find("#rmsSpeedValue").attr("max",d.sliderLimit.rmsMaxSpeed),o.find("#trRatioSlider").slider("setValue",a),o.find("#peakSpeedSlider").slider("setValue",i[1].data[0][0]),o.find("#peakTorqueSlider").slider("setValue",i[1].data[0][1]),o.find("#rmsSpeedSlider").slider("setValue",i[3].data[0][0]),o.find("#rmsTorqueSlider").slider("setValue",i[3].data[0][1]),o.find("#peakSpeedValue").val(i[1].data[0][0]),o.find("#peakTorqueValue").val(i[1].data[0][1]),o.find("#rmsSpeedValue").val(i[3].data[0][0]),o.find("#rmsTorqueValue").val(i[3].data[0][1])}y(i),p()},v=function(a){var i=t.getData();switch(a){case"PeakSpeed":i[1].data[0][0]=d.peakPoints[0]=o.find("#peakSpeedSlider").slider("getValue"),d.defaultPeakSpeed=o.find("#peakSpeedSlider").slider("getValue"),o.find("#peakSpeedValue").val(e("#peakSpeedSlider").slider("getValue"));break;case"PeakTorque":i[1].data[0][1]=d.peakPoints[1]=o.find("#peakTorqueSlider").slider("getValue"),d.defaultPeakTorque=o.find("#peakTorqueSlider").slider("getValue"),o.find("#peakTorqueValue").val(e("#peakTorqueSlider").slider("getValue"));break;case"RmsSpeed":i[3].data[0][0]=d.rmsPoints[0]=o.find("#rmsSpeedSlider").slider("getValue"),d.defaultRmsSpeed=o.find("#rmsSpeedSlider").slider("getValue"),o.find("#rmsSpeedValue").val(e("#rmsSpeedSlider").slider("getValue"));break;case"RmsTorque":i[3].data[0][1]=d.rmsPoints[1]=o.find("#rmsTorqueSlider").slider("getValue"),d.defaultRmsTorque=o.find("#rmsTorqueSlider").slider("getValue"),o.find("#rmsTorqueValue").val(e("#rmsTorqueSlider").slider("getValue"));break;case"TransmissionRatio":var l=o.find("#trRatioSlider").slider("getValue"),i=t.getData();i[1].data[0][0]=d.peakPoints[0]=(d.defaultPeakSpeed*l).toFixed(2),i[1].data[0][1]=d.peakPoints[1]=(d.defaultPeakTorque/l).toFixed(2),i[3].data[0][0]=d.rmsPoints[0]=(d.defaultRmsSpeed*l).toFixed(2),i[3].data[0][1]=d.rmsPoints[1]=(d.defaultRmsTorque/l).toFixed(2),i[1].data[0][0]>d.sliderLimit.peakMaxSpeed?o.find("#peakSpeedSlider").slider("setAttribute","max",parseInt(i[1].data[0][0])):o.find("#peakSpeedSlider").slider("setAttribute","max",d.sliderLimit.peakMaxSpeed),i[3].data[0][0]>d.sliderLimit.rmsMaxSpeed?o.find("#rmsSpeedSlider").slider("setAttribute","max",parseInt(i[3].data[0][0])):o.find("#rmsSpeedSlider").slider("setAttribute","max",d.sliderLimit.rmsMaxSpeed),o.find("#peakSpeedSlider").slider("setValue",i[1].data[0][0]),o.find("#peakTorqueSlider").slider("setValue",i[1].data[0][1]),o.find("#rmsSpeedSlider").slider("setValue",i[3].data[0][0]),o.find("#rmsTorqueSlider").slider("setValue",i[3].data[0][1]),o.find("#trRatioValue").val(l),o.find("#peakSpeedValue").val(i[1].data[0][0]),o.find("#peakTorqueValue").val(i[1].data[0][1]),o.find("#rmsSpeedValue").val(i[3].data[0][0]),o.find("#rmsTorqueValue").val(i[3].data[0][1])}y(i),p()},f=function(a){var t=e('<div class="panel-body"></div>');a.append(t);var i=e('<div id="tsPointsPanelContainer"></div>');t.append(i);var l=e('<div id="sliderContainer" class="row"></div>');i.append(l);var n=e('<div class="col-sm-3 title"><span id="peakTorqueTitle">Peak Torque: </span></div>');l.append(n);var r=e('<div class="col-sm-4"><input id="peakTorqueSlider" data-slider-value="'+d.peakPoints[1]+'" data-slider-id="sizeSlider" type="text" data-slider-tooltip="hide"/></div>');l.append(r);var s=e('<div class="col-sm-5"><input type="number" name="quantity" id="peakTorqueValue" min="0" max="'+d.sliderLimit.peakMaxTorque+'" value="'+d.peakPoints[1]+'" class="widgetNumberInput form-control bfh-number"><lable class="value">&nbsp;&nbsp;Nm</label></div>');l.append(s);var u=(r.find("#peakTorqueSlider").slider({min:0,max:d.sliderLimit.peakMaxTorque,step:.1}).on("change",function(){return r.find("#peakTorqueSlider").slider("getValue")<d.rmsPoints[1]?(r.find("#peakTorqueSlider").slider("setValue",u),w("Peak Torque can not be less than RMS Torque."),!1):(w(""),v("PeakTorque"),void(u=r.find("#peakTorqueSlider").slider("getValue")))}),r.find("#peakTorqueSlider").slider("getValue"));o.find("#peakTorqueValue").on("change",function(e){m("PeakTorque",e.target.value)});var p=e('<div id="sliderContainer" class="row"></div>');i.append(p);var c=e('<div class="col-sm-3 title"><span id="peakSpeedTitle">Peak Speed: </sapn></div>');p.append(c);var f=e('<div class="col-sm-4"><input id="peakSpeedSlider" data-slider-value="'+d.peakPoints[0]+'" data-slider-id="sizeSlider" type="text" data-slider-tooltip="hide"/></div>');p.append(f);var S=e('<div class="col-sm-5"><input step="1"  data-wrap="true" type="number" id="peakSpeedValue" name="quantity" min="0" max="'+d.sliderLimit.peakMaxSpeed+'" value="'+d.peakPoints[0]+'" class="widgetNumberInput form-control bfh-number form-control bfh-number"><lable class="value">&nbsp;&nbsp;rad/sec</label></div>');p.append(S),f.find("#peakSpeedSlider").slider({min:0,max:d.sliderLimit.peakMaxSpeed,step:1}).on("change",function(){return f.find("#peakSpeedSlider").slider("getValue")<d.rmsPoints[0]?(f.find("#peakSpeedSlider").slider("setValue",d.rmsPoints[0]),w("Peak Speed can not be less than RMS Speed."),!1):(w(""),void v("PeakSpeed"))}),o.find("#peakSpeedValue").on("change",function(e){m("PeakSpeed",e.target.value)});var h=e('<div id="sliderContainer" class="row"></div>');i.append(h);var x=e('<div class="col-sm-3 title"><span id="rmsTorqueTitle">RMS Torque: </sapn></div>');h.append(x);var T=e('<div class="col-sm-4"><input id="rmsTorqueSlider" data-slider-value="'+d.rmsPoints[1]+'" data-slider-id="sizeSlider" type="text" data-slider-tooltip="hide"/></div>');h.append(T);var q=e('<div class="col-sm-5"><input type="number" id="rmsTorqueValue" name="quantity" min="0" max="'+d.sliderLimit.rmsMaxTorque+'" value="'+d.rmsPoints[1]+'" class="widgetNumberInput form-control bfh-number"><lable class="value">&nbsp;&nbsp;Nm</label></div>');h.append(q),T.find("#rmsTorqueSlider").slider({min:0,max:d.sliderLimit.rmsMaxTorque,step:.1}).on("change",function(){return T.find("#rmsTorqueSlider").slider("getValue")>d.peakPoints[1]?(T.find("#rmsTorqueSlider").slider("setValue",d.peakPoints[1]),w("RMS Torque can not be greater than Peak Torque."),!1):(w(""),void v("RmsTorque"))}),o.find("#rmsTorqueValue").on("change",function(e){m("RmsTorque",e.target.value)});var g=e('<div id="sliderContainer" class="row"></div>');i.append(g);var k=e('<div class="col-sm-3 title"><span id="rmsSpeedTitle">RMS Speed: </span></div>');g.append(k);var b=e('<div class="col-sm-4"><input id="rmsSpeedSlider" data-slider-value="'+d.rmsPoints[0]+'" data-slider-id="sizeSlider" type="text" data-slider-tooltip="hide"/></div>');g.append(b);var P=e('<div class="col-sm-5"><input type="number" id="rmsSpeedValue" name="quantity" min="0" max="'+d.sliderLimit.rmsMaxSpeed+'" value="'+d.rmsPoints[0]+'" class="widgetNumberInput form-control bfh-number"><lable class="value">&nbsp;&nbsp;rad/sec</label></div>');if(g.append(P),b.find("#rmsSpeedSlider").slider({min:0,max:d.sliderLimit.rmsMaxSpeed,step:1}).on("change",function(){return b.find("#rmsSpeedSlider").slider("getValue")>d.peakPoints[0]?(b.find("#rmsSpeedSlider").slider("setValue",d.peakPoints[0]),void w("RMS Speed can not be greater than Peak Speed.")):(w(""),void v("RmsSpeed"))}),o.find("#rmsSpeedValue").on("change",function(e){m("RmsSpeed",e.target.value)}),d.showMotorTsCurve){var C=e('<div id="sliderContainer" class="row"></div>');i.append(C)}i.append('<div id="alertMessageContainer" class="alert alert-warning"><strong>Warning:-&nbsp;&nbsp;</strong><span></span></div>');var w=function(e){return""===e?void i.find("#alertMessageContainer").hide():(i.find("#alertMessageContainer").show(),void i.find("#alertMessageContainer span").text(e))}},S=function(a){var t=e('<div class="panel panel-default"></div>');a.append(t);var o=e('<div class="panel-heading" role="tab" id="headingThree"> <h4 class="panel-title"> <a role="button"  data-parent="#accordion'+d.uniqeId+'" data-toggle="collapse"  href="#collapseThree'+d.uniqeId+'" aria-controls="collapseThree" aria-expanded="false"><span> Environmental Factors</span> <span class="accordion-plus-minus glyphicon pull-right glyphicon-chevron-down fa fa-chevron-down" aria-hidden="true" style="color: grey;"></span> </a> </h4> </div>');t.append(o);var i=e('<div id="collapseThree'+d.uniqeId+'" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree"></div>');t.append(i);var l=e('<div class="panel-body"></div>');i.append(l),t.on("show.bs.collapse",function(a){e(this).find(".accordion-plus-minus").removeClass("glyphicon-chevron-down fa fa-chevron-down").addClass("glyphicon-chevron-up fa fa-chevron-up")}),t.on("hide.bs.collapse",function(a){e(this).find(".accordion-plus-minus").removeClass("glyphicon-chevron-up fa fa-chevron-up").addClass("glyphicon-chevron-down fa fa-chevron-down")}),h(l)},h=function(a){var l=e('<div id="envFactorsPanelContainer"></div>');a.append(l);var n=e('<div id="sliderContainer" class="row"></div>');l.append(n);var r=e('<div class="col-sm-3 title"><span id="tempTitle">Temperature: </span></div>');n.append(r);var s=e('<div class="col-sm-4"><input id="tempSlider" data-slider-id="sizeSlider" type="text" data-slider-tooltip="hide"/></div>');n.append(s);var u=e('<div class="col-sm-5"><input type="number" id="tempValue" name="quantity" min="0" value="'+d.motorData[d.motorSelectedIndex].temp+'" class="widgetNumberInput form-control bfh-number"><lable class="value">&nbsp;&deg;C</label></div>');n.append(u);var c=d.sliderLimit.maxTemp||i.sliderLimit.maxTemp;d.defaultPeakStallTorque=d.motorData[d.motorSelectedIndex].peakStallTorque,d.defaultRollOffPoint=d.motorData[d.motorSelectedIndex].rollOffPoint,d.defaultRollOffSpeed=d.motorData[d.motorSelectedIndex].rollOffSpeed,d.defaultPeakTorqueAtMaxSpeed=d.motorData[d.motorSelectedIndex].peakTorqueAtMaxSpeed,d.defaultContinuousStallTorque=d.motorData[d.motorSelectedIndex].continuousStallTorque,d.defaultContinuosTorqueAtMaxSpeed=d.motorData[d.motorSelectedIndex].continuosTorqueAtMaxSpeed,n.find("#tempSlider").slider({value:d.motorData[d.motorSelectedIndex].temp,min:0,max:c,step:1}).on("change",function(e){o.find("#tempValue").val(e.value.newValue);var a=e.value.newValue-e.value.oldValue;0!==a&&(m("peakPlot",e.value.newValue),m("rmsPlot",e.value.newValue))}),o.find("#tempValue").on("change",function(e){o.find("#tempSlider").slider("setValue",parseInt(e.target.value)),m("peakPlot",parseInt(e.target.value)),m("rmsPlot",parseInt(e.target.value))});var m=function(e,a){var o=t.getData(),i=a,l=40,n=155,r=25,s=i+.6*(n-i),u=l+.6*(n-l),c=-.0015,m=1-(i-l)/(n-l),v=(r+234.5)/(u+234.5),f=1+(s-u)*c;switch(e){case"peakPlot":for(var S=o[0].data,h=0;h<S.length;h++)void 0!=d.motorData[d.motorSelectedIndex]&&(0!=h&&12!=h&&6!=h||(S[h][1]=d.defaultPeakStallTorque*f,0==h&&(d.motorData[d.motorSelectedIndex].peakStallTorque=S[h][1]),6==h&&(S[h][1]=-S[h][1])),1!=h&&7!=h||(S[h][1]=d.defaultRollOffPoint*f,S[h][0]=d.defaultRollOffSpeed/f,d.motorData[d.motorSelectedIndex].rollOffPoint=S[h][1],d.motorData[d.motorSelectedIndex].rollOffSpeed=S[h][0],7==h&&(S[h][0]=-S[h][0],S[h][1]=-S[h][1])),2!=h&&8!=h||(S[h][1]=d.defaultPeakTorqueAtMaxSpeed*f,d.motorData[d.motorSelectedIndex].peakTorqueAtMaxSpeed=S[h][1],8==h&&(S[h][1]=-S[h][1])));o[0].data=S;break;case"rmsPlot":for(var x=o[2].data,h=0;h<x.length;h++)void 0!=d.motorData[d.motorSelectedIndex]&&(0!=h&&10!=h&&5!=h||(x[h][1]=d.defaultContinuousStallTorque*(f*Math.sqrt(m/v)),d.motorData[d.motorSelectedIndex].continuousStallTorque=x[h][1],5==h&&(x[h][1]=-x[h][1])),1!=h&&6!=h||(x[h][1]=d.defaultContinuosTorqueAtMaxSpeed*(f*Math.sqrt(m/v)),d.motorData[d.motorSelectedIndex].continuosTorqueAtMaxSpeed=x[h][1],6==h&&(x[h][1]=-x[h][1])));o[2].data=x}y(o),p()},v=e('<div id="sliderContainer" class="row"></div>');l.append(v);var f=e('<div class="col-sm-3 title"><span id="altitudeTitle">Altitude: </span></div>');v.append(f);var S=e('<div class="col-sm-4"><input id="altitudeSlider" data-slider-id="sizeSlider" type="text" data-slider-tooltip="hide"/></div>');v.append(S);var h=e('<div class="col-sm-5"><input type="number" id="altitudeValue" name="quantity" min="0" value="'+d.motorData[d.motorSelectedIndex].altitude+'" class="widgetNumberInput form-control bfh-number"><label class="value">&nbsp;&nbsp;m</label></div>');v.append(h);var c=d.sliderLimit.maxAltitude||i.sliderLimit.maxAltitude;d.defaultContinuousStallTorque=d.motorData[d.motorSelectedIndex].continuousStallTorque,d.defaultContinuosTorqueAtMaxSpeed=d.motorData[d.motorSelectedIndex].continuosTorqueAtMaxSpeed,S.find("#altitudeSlider").slider({value:d.motorData[d.motorSelectedIndex].altitude,min:0,max:1e4,step:1}).on("change",function(e){o.find("#altitudeValue").val(e.value.newValue);var a=t.getData(),i=a[2].data;if(e.value.newValue>1500){var l=[1-(e.value.newValue-1500)/1e4];i[0][1]=i[10][1]=(d.defaultContinuousStallTorque*l).toFixed(3),i[1][1]=(d.defaultContinuosTorqueAtMaxSpeed*l).toFixed(3),a[2].data=i,d.motorData[d.motorSelectedIndex].continuousStallTorque=i[0][1],d.motorData[d.motorSelectedIndex].continuosTorqueAtMaxSpeed=i[1][1]}else{var l=1;i[0][1]=i[10][1]=(d.defaultContinuousStallTorque*l).toFixed(3),i[1][1]=(d.defaultContinuosTorqueAtMaxSpeed*l).toFixed(3),a[2].data=i,d.motorData[d.motorSelectedIndex].continuousStallTorque=i[0][1],d.motorData[d.motorSelectedIndex].continuosTorqueAtMaxSpeed=i[1][1]}y(a),p()}),o.find("#altitudeValue").on("change",function(e){var a=parseInt(e.target.value),i=t.getData(),l=i[2].data;if(o.find("#altitudeSlider").slider("setValue",a),a>1500){var n=[1-(a-1500)/1e4];l[0][1]=l[10][1]=(d.defaultContinuousStallTorque*n).toFixed(3),l[1][1]=(d.defaultContinuosTorqueAtMaxSpeed*n).toFixed(3),i[2].data=l,d.motorData[d.motorSelectedIndex].continuousStallTorque=l[0][1],d.motorData[d.motorSelectedIndex].continuosTorqueAtMaxSpeed=l[1][1]}else{var n=1;l[0][1]=l[10][1]=(d.defaultContinuousStallTorque*n).toFixed(3),l[1][1]=(d.defaultContinuosTorqueAtMaxSpeed*n).toFixed(3),i[2].data=l,d.motorData[d.motorSelectedIndex].continuousStallTorque=l[0][1],d.motorData[d.motorSelectedIndex].continuosTorqueAtMaxSpeed=l[1][1]}y(i),p()})},x=function(a){var t=e('<div class="panel panel-default"></div>');a.append(t);var o=e('<div class="panel-heading" role="tab" id="headingFour"> <h4 class="panel-title"> <a role="button"   data-parent="#accordion'+d.uniqeId+'"  data-toggle="collapse"  href="#collapseFour'+d.uniqeId+'" aria-controls="collapseFour" aria-expanded="false"><span> Transmission Ratio</span> <span class="accordion-plus-minus glyphicon pull-right glyphicon-chevron-down fa fa-chevron-down" aria-hidden="true" style="color: grey;"></span> </a> </h4> </div>');
t.append(o);var i=e('<div id="collapseFour'+d.uniqeId+'" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFour"></div>');t.append(i);var l=e('<div class="panel-body"></div>');i.append(l),t.on("show.bs.collapse",function(a){e(this).find(".accordion-plus-minus").removeClass("glyphicon-chevron-down fa fa-chevron-down").addClass("glyphicon-chevron-up fa fa-chevron-up")}),t.on("hide.bs.collapse",function(a){e(this).find(".accordion-plus-minus").removeClass("glyphicon-chevron-up fa fa-chevron-up").addClass("glyphicon-chevron-down fa fa-chevron-down")}),T(l)},T=function(a){var t=e('<div id="transmissionRatioPanelContainer"></div>');a.append(t);var l=e('<div id="sliderContainer" class="row"></div>');t.append(l);var n=e('<div class="col-sm-3 title"><span id="trRatioTitle">Transmission Ratio: </span></div>');l.append(n);var r=e('<div class="col-sm-4" ><input id="trRatioSlider" data-slider-id="sizeSlider" type="text" data-slider-tooltip="hide"/></div>');l.append(r);var s=e('<div class="col-sm-5"><input type="number" id="trRatioValue" name="quantity" min="1" max="'+d.sliderLimit.maxTrRatio+'" value="1" class="widgetNumberInput form-control bfh-number"><lable class="value">&nbsp;: 1</label></div>');l.append(s),d.defaultRmsTorque=d.rmsPoints[1],d.defaultRmsSpeed=d.rmsPoints[0],d.defaultPeakTorque=d.peakPoints[1],d.defaultPeakSpeed=d.peakPoints[0],r.find("#trRatioSlider").slider({min:1,value:1,max:d.sliderLimit.maxTrRatio||i.sliderLimit.maxTrRatio,step:1}).on("change",function(){v("TransmissionRatio")}),o.find("#trRatioValue").on("change",function(e){m("TransmissionRatio",e.target.value)})},q=function(a){var t=e('<div class="tsPlotContainer"></div>');a.append(t);var o=e('<div class="tsPlotArea"></div>');t.append(o);var i=e('<div class="curveConfigContainer row"></div>');a.append(i),d.showQuadrantToggle&&g(i),P()},g=function(a){var t=e('<div class="plotModeContainer"> <label id="quadrantTitle">Quadrant: &nbsp;&nbsp;&nbsp;</label> <div class="btn-group" id="plotModeToggle"> <button id="1quad" value="1" class="btn btn-default">Single</button> <button id="4quad" value="4" class="btn btn-default">Four</button> </div></div>');d.quadrant&&t.find("#"+d.quadrant+"quad").addClass("selectedQuad"),a.append(t),t.find("#plotModeToggle .btn").click(function(){e(this).hasClass("selectedQuad")||(t.find(".selectedQuad").removeClass("selectedQuad"),e(this).addClass("selectedQuad"),d.quadrant=parseInt(e(this).val()),P())})},k=function(a){var t=o.find(".tsCruveContainer"),i=e('<div id="servoMotorInfoContainer" class="tsModal"></div>');t.append(i);var l=e('<div class="motorSpecTable"></div>');b(d.motorSelectedIndex,l),i.append(l)},b=function(a){var t=o.find("#servoMotorInfoContainer").find(".motorSpecTable"),i=t.find("table");i.length>0&&i.remove();var i=e('<table class="table table-striped"></table>'),l=e('<caption class="motorTableTitle">Motor Specifications - '+d.motorData[a].motorPartNo+'<div class="closeButtonStyle">X</div></caption>'),n=e('<thead><tr><th class="leftCol tableTitle">Parameters</th><th class="rightCol tableTitle">Value</th></tr></thead>'),r=e("<tbody></tbody>");t.append(i),i.append(l),i.append(n),i.append(r),r.append('<tr> <td class="leftCol"> Frame Size </td><td class="rightCol">'+d.motorData[a].FrameSize+"</td></tr>"),r.append('<tr> <td class="leftCol"> Peak Stall Torque </td><td class="rightCol">'+d.motorData[a].peakStallTorque+" N-m</td></tr>"),r.append('<tr> <td class="leftCol"> Roll Off Point </td><td class="rightCol">'+d.motorData[a].rollOffPoint+" N-m</td></tr>"),r.append('<tr> <td class="leftCol"> Roll Off Speed </td><td class="rightCol">'+d.motorData[a].rollOffSpeed+" rad/sec</td></tr>"),r.append('<tr> <td class="leftCol"> Max Speed </td><td class="rightCol">'+d.motorData[a].maxSpeed+" rad/sec</td></tr>"),r.append('<tr> <td class="leftCol"> Peak Torque at Max Speed </td><td class="rightCol">'+d.motorData[a].peakTorqueAtMaxSpeed+" N-m</td></tr>"),r.append('<tr> <td class="leftCol"> Continuous Stall Torque </td><td class="rightCol">'+d.motorData[a].continuousStallTorque+" N-m</td></tr>"),r.append('<tr> <td class="leftCol"> Continuos Torque at Max Speed </td><td class="rightCol">'+d.motorData[a].continuosTorqueAtMaxSpeed+" N-m</td></tr>")},P=function(){var e=[],a={colors:[d.graphLineColor.peakTSCurve,d.graphLineColor.peakTSCurve,d.graphLineColor.contionusTSCurve,d.graphLineColor.contionusTSCurve],series:{points:{show:!0}},legend:{backgroundOpacity:0},coordinate:{type:"rectangular"},axisLabels:{show:!0},xaxis:{axisLabel:"Speed (rad/sec)"},yaxis:{axisLabel:"Torque (N-m)"},grid:{hoverable:!0,clickable:!0,borderWidth:1,borderColor:"#D9D9D9",margin:0,markings:[{yaxis:{from:0,to:0},color:"#333"},{xaxis:{from:0,to:0},color:"#333"}]},tooltip:!0,tooltipOpts:{cssClass:"tsCurveFlotTip",content:function(e,a,t,o){var i="";switch(o.seriesIndex){case 0:switch(o.dataIndex){case 0:i="Peak Stall Torque <br />";break;case 1:i="Roll Off Point<br />";break;case 2:i="Peak Torque at Max Speed <br />";break;case 3:i="Max Speed at Zero Torque <br />"}break;case 1:i="Peak T/S Point <br />";break;case 2:switch(o.dataIndex){case 0:i="Continuous Stall Torque <br />";break;case 1:i="Continuous Stall Torque at Max Speed <br />";break;case 2:i="Max Speed Point <br />"}break;case 3:i="RMS T/S Point <br />"}return i+"Speed: "+a+", Torque: "+t},defaultTheme:!1,shifts:{x:0,y:20}}};1==d.quadrant&&(a.xaxis.min=0,a.yaxis.min=0);var o=[],i=[],l=[],n=[],r=[],s=[],u=[],p=[],c=function(){o=[],i=[],l=[],n=[],r=[],s=[],u=[],p=[]},m=function(e){var a=e.maxSpeed;r=[[0,e.peakStallTorque],[e.rollOffSpeed,e.rollOffPoint],[a,e.peakTorqueAtMaxSpeed],[a,0]],u=[[0,e.continuousStallTorque],[a,e.continuosTorqueAtMaxSpeed],[a,0]]},v=function(e){var a=-1*e.maxSpeed;s=[[a,0],[a+1,e.peakStallTorque]],p=[[a,0],[a+1,e.continuousStallTorque]]},f=function(e){o=o.concat(r),i=i.concat(u)},S=function(e){var a=[],t=[];s.length>0&&s.forEach(function(e,t,o){var i=[];i[0]=-1*e[0],i[1]=-1*e[1],a[t]=i}),o=o.concat(a),p.length>0&&p.forEach(function(e,a,o){var i=[];i[0]=-1*e[0],i[1]=-1*e[1],t[a]=i}),i=i.concat(t)},h=function(e){var a=[],t=[];r.length>0&&r.forEach(function(e,t,o){var i=[];i[0]=-1*e[0],i[1]=-1*e[1],a[t]=i}),o=o.concat(a),u.length>0&&u.forEach(function(e,a,o){var i=[];i[0]=-1*e[0],i[1]=-1*e[1],t[a]=i}),i=i.concat(t)},x=function(e){o=o.concat(s),i=i.concat(p)},T=function(e){o.push([0,e.peakStallTorque]),i.push([0,e.continuousStallTorque])},q=function(e){var a=e.temp,t=40,o=155,i=25,d=a+.6*(o-a),l=t+.6*(o-t),n=-.0015,r=1-(a-t)/(o-t),s=(i+234.5)/(l+234.5),u=1+(d-l)*n;return e.peakStallTorque=(e.peakStallTorque*u).toFixed(2),e.rollOffPoint=(e.rollOffPoint*u).toFixed(2),e.rollOffSpeed=(e.rollOffSpeed/u).toFixed(2),e.continuousStallTorque=(e.continuousStallTorque*(u*Math.sqrt(r/s))).toFixed(2),e.continuosTorqueAtMaxSpeed=(e.continuosTorqueAtMaxSpeed*(u*Math.sqrt(r/s))).toFixed(2),e},g=function(e){f(e),S(e),h(e),x(e),T(e)},k=function(e){c();var a=q(e);m(a),v(a),g(a)};d.showMotorTsCurve&&k(d.motorData[d.motorSelectedIndex]),d.showApplicationPoints&&(l.push(d.peakPoints),n.push(d.rmsPoints)),e.push({data:o,label:"Peak T-S Curve",lines:{lineWidth:2,show:!0}},{data:l,label:"",points:{show:!0,fillColor:d.graphLineColor.peakTSCurve,radius:4}},{data:i,label:"Continous T-S Curve",lines:{lineWidth:2,show:!0}},{data:n,label:"",points:{show:!0,fillColor:d.graphLineColor.contionusTSCurve,radius:4}}),t?y(e,a):M(e,a)},C=function(e){function a(e,a,t,o){var d=!1,l=(a[1]-e[1])/(a[0]-e[0]),n=e[1]-l*e[0],r=-1,s=l*t[0]-t[1]+n;if(d=0==s||s>0&&0>r||0>s&&r>0,o){var u=t[0]*t[1],v=t[0]*(l*t[0]+n),f=100*u/v;m.push(f)}else{var S=100*t[1]/(l*t[0]+n),h=100*t[0]/i.maxSpeed;p.push(S),c.push(h)}return d}function t(e){var a=100*e[1]/i.peakStallTorque,t=100*e[0]/i.maxSpeed;p.push(a),c.push(t)}function o(e){var a=e[0]*e[1],t=e[0]*i.continuousStallTorque,o=100*a/t;m.push(o)}var i=e,l=d.peakPoints,n=d.rmsPoints,r={PeakStallPoint:{x:0,y:i.peakStallTorque},RollOffPoint:{x:i.rollOffSpeed,y:i.rollOffPoint},PeakTarqueAtMaxSpeedPoint:{x:i.maxSpeed,y:i.peakTorqueAtMaxSpeed},ContinuousStallTorquePoint:{x:0,y:i.continuousStallTorque},ContinuousStallTorqueMaxSpeedPoint:{x:i.maxSpeed,y:i.continuosTorqueAtMaxSpeed}},s=0,u=null,p=[],c=[],m=[],v=null,f=null,S=null,h={status:u,torqueUtilization:v,speedUtilization:f,avgPower:S},x=n[0],T=n[1],q=l[0],g=l[1],k=!1,b=!1,P=null,C=null,w=null;return x<=i.maxSpeed?(P=[r.ContinuousStallTorquePoint.x,r.ContinuousStallTorquePoint.y],C=[r.ContinuousStallTorqueMaxSpeedPoint.x,r.ContinuousStallTorqueMaxSpeedPoint.y],w=[x,T],b=a(P,C,w,!0)):(s=-1,o([x,T])),g<=i.peakStallTorque&&q<=i.maxSpeed?q<=r.RollOffPoint.x?(P=[r.PeakStallPoint.x,r.PeakStallPoint.y],C=[r.RollOffPoint.x,r.RollOffPoint.y],w=[q,g],k=a(P,C,w,!1)):(P=[r.RollOffPoint.x,r.RollOffPoint.y],C=[r.PeakTarqueAtMaxSpeedPoint.x,r.PeakTarqueAtMaxSpeedPoint.y],w=[q,g],k=a(P,C,w,!1)):(s=-1,t([q,g])),-1!=s&&0!=k&&0!=b||(s=-1),-1==s?h.status=!1:0==s&&(h.status=!0),h.torqueUtilization=Math.max.apply(Math,p),h.speedUtilization=Math.max.apply(Math,c),h.avgPower=Math.max.apply(Math,m),h},w=function(){if(!d.showMotorTsCurve){var e=Math.max(d.peakPoints[0]+50,d.rmsPoints[0]+50,200),a=Math.max(d.peakPoints[1]+10,d.rmsPoints[1]+10,50);t.getOptions().yaxes[0].max=a,t.getOptions().xaxes[0].max=e,4===d.quadrant&&(t.getOptions().yaxes[0].min=-1*a,t.getOptions().xaxes[0].min=-1*e)}},V=function(){4==d.quadrant?(t.getOptions().grid.markings[0].color="#bdbdbd",t.getOptions().grid.markings[1].color="#bdbdbd"):(t.getOptions().grid.markings[0].color="#333",t.getOptions().grid.markings[1].color="#333"),w(),t.setupGrid(),t.draw()},M=function(a,i){setTimeout(function(){t=e.plot(o.find(".tsPlotArea"),a,i),V()},0)},y=function(e,a){a&&(void 0!=a.xaxis.min&&void 0!=a.yaxis.min?(t.getOptions().yaxes[0].min=a.yaxis.min,t.getOptions().xaxes[0].min=a.xaxis.min):(t.getOptions().yaxes[0].min=null,t.getOptions().xaxes[0].min=null)),t.setData(e),V(),I()},I=function(){d.assessmentMode&&d.assessmentCallback&&d.assessmentCallback({peakTorque:{value:o.find("#peakTorqueValue").val(),unit:"Nm"},peakSpeed:{value:o.find("#peakSpeedValue").val(),unit:"rad/sec"},rmsTorque:{value:o.find("#rmsTorqueValue").val(),unit:"Nm"},rmsSpeed:{value:o.find("#rmsSpeedValue").val(),unit:"rad/sec"},temperature:{value:o.find("#tempValue").val(),unit:"C"},altitude:{value:o.find("#altitudeValue").val(),unit:"m"},transmissionRatio:{value:o.find("#trRatioValue").val(),unit:""},status:{value:C(d.motorData[d.motorSelectedIndex]).status,unit:""}})},D=function(e){e.peakTorque,e.peakSpeed,e.rmsTorque,e.rmsSpeed,e.temperature&&(o.find("#tempSlider").slider("setValue",e.temperature),o.find("#tempValue").val(e.temperature)),e.altitude&&(o.find("#altitudeSlider").slider("setValue",e.altitude),o.find("#altitudeValue").val(e.altitude)),e.transmissionRatio},R=function(e){var a;e.peakTorque&&(a=e.peakTorque.status?"correct":"incorrect",o.find("#peakTorqueValue").addClass(a)),e.peakSpeed&&(a=e.peakSpeed.status?"correct":"incorrect",o.find("#peakSpeedValue").addClass(a)),e.rmsTorque&&(a=e.rmsTorque.status?"correct":"incorrect",o.find("#rmsTorqueValue").addClass(a)),e.rmsSpeed&&(a=e.rmsSpeed.status?"correct":"incorrect",o.find("#rmsSpeedValue").addClass(a)),e.temperature&&(a=e.temperature.status?"correct":"incorrect",o.find("#tempValue").addClass(a)),e.altitude&&(a=e.altitude.status?"correct":"incorrect",o.find("#altitudeValue").addClass(a)),e.transmissionRatio&&(a=e.transmissionRatio.status?"correct":"incorrect",o.find("#trRatioValue").addClass(a))};return l(),{ref:this,updateInputs:D,markAnswers:R}}}(jQuery),define("../libs/libs-frontend-TSCurve/dist/js/tsCurve.min.js",function(){}),define("cosmatttsc",["css!../css/cosmatttsc.css","../../bower_components/bootstrap-slider/bootstrap-slider.js","css!../../bower_components/bootstrap-slider/slider.css","../../bower_components/flot/jquery.flot.js","../../bower_components/flot/jquery.flot.resize.js","../../bower_components/flot-axislabels/jquery.flot.axislabels.js","css!../libs/libs-frontend-TSCurve/dist/css/tsCurve.min.css","../libs/libs-frontend-TSCurve/dist/js/tsCurve.min.js"],function(cosmatttscTemplateRef){cosmatttsc=function(){"use strict";function init(elRoot,params,adaptor,htmlLayout,jsonContentObj,callback){activityAdaptor=adaptor;var jsonContent=jQuery.extend(!0,{},jsonContentObj);__processedJsonContent=__parseAndUpdateJSONContent(jsonContent,params,htmlLayout);var $questionContainer=$('<div class="row cosmatttsc-engine"></div>'),$questionArea=$('<p class="col-sm-12 text-primary question-text"></p>'),$pluginArea=$('<div class="col-sm-12"></div>');$questionArea.html(__content.questionText),__content.appData.options.data.assessmentCallback=userResponseHandler,__pluginInstance=$pluginArea.TSCurve(__content.appData.options.data),$questionContainer.append($questionArea),$questionContainer.append($pluginArea),$(elRoot).html($questionContainer),callback&&callback()}function getConfig(){return __config}function userResponseHandler(callbackValue){for(var property in callbackValue)if(callbackValue.hasOwnProperty(property)){var interactionMinScore=__content.score.min,optionsCount=Object.keys(__content.optionsJSON).length,interactionMaxScore=__content.score.max/optionsCount,interactionId=getInteractionId(property);""!=interactionId&&(__content.userAnswersJSON[interactionId]={},__content.userAnswersJSON[interactionId].answer=callbackValue[property].value.toString(),void 0!=callbackValue[property].unit&&(__content.userAnswersJSON[interactionId].unit=callbackValue[property].unit.toString()),__content.userAnswersJSON[interactionId].correctanswer=__content.answersJSON[interactionId].correct.toString(),__content.userAnswersJSON[interactionId].maxscore=interactionMaxScore,Math.round(100*parseFloat(callbackValue[property].value))/100==parseFloat(__content.answersJSON[interactionId].correct)?(__content.userAnswersJSON[interactionId].score=interactionMaxScore,__content.userAnswersJSON[interactionId].status="correct"):(__content.userAnswersJSON[interactionId].score=interactionMinScore,__content.userAnswersJSON[interactionId].status="incorrect"))}__saveResults(!1)}function getInteractionId(interactionField){var interactions=__content.optionsJSON,interactionId="";for(interactionId in interactions)if(interactions[interactionId].type===interactionField)return interactionId;return""}function getStatus(){return __state.activitySubmitted||__state.activityPariallySubmitted}function handleSubmit(event){__saveResults(!0),activityAdaptor.showAnswers&&__markAnswers()}function showGrades(savedAnswer,reviewAttempt){__markAnswers()}function updateLastSavedResults(lastResults){var updatePluginVals={};$.each(lastResults.interactions,function(num,value){var interactionMinScore=__content.score.min,optionsCount=Object.keys(__content.optionsJSON).length,interactionMaxScore=__content.score.max/optionsCount,interactionId=value.id;__content.userAnswersJSON[interactionId]={},__content.userAnswersJSON[interactionId].answer=value.answer.toString(),__content.userAnswersJSON[interactionId].correctanswer=__content.answersJSON[interactionId].correct.toString(),__content.userAnswersJSON[interactionId].maxscore=interactionMaxScore,Math.round(100*parseFloat(value.answer))/100==parseFloat(__content.answersJSON[interactionId].correct)?(__content.userAnswersJSON[interactionId].score=interactionMaxScore,__content.userAnswersJSON[interactionId].status="correct"):(__content.userAnswersJSON[interactionId].score=interactionMinScore,__content.userAnswersJSON[interactionId].status="incorrect"),updatePluginVals[__content.optionsJSON[value.id].type]={value:value.answer},value.unit&&(updatePluginVals[__content.optionsJSON[value.id].type].unit=value.unit)}),__pluginInstance.updateInputs(updatePluginVals)}function __parseAndUpdateJSONContent(jsonContent,params,htmlLayout){jsonContent.content.displaySubmit=activityAdaptor.displaySubmit,__content.activityType=params.engineType,__content.layoutType=jsonContent.content.canvas.layout;var tagName=jsonContent.content.instructions[0].tag;__content.instructionText=jsonContent.content.instructions[0][tagName],__content.appData=jsonContent["app-data"],__content.score=jsonContent.meta.score;var questionText=jsonContent.content.canvas.data.questiondata[0].text,interactionId=[],interactionTag=[],interactionReferenceString="http://www.comprodls.com/m1.0/interaction/cosmatttsc",parsedQuestionArray=$.parseHTML(jsonContent.content.canvas.data.questiondata[0].text),j=0;return $.each(parsedQuestionArray,function(i,el){this.href===interactionReferenceString&&(interactionId[j]=this.childNodes[0].nodeValue.trim(),__interactionIds.push(interactionId[j]),interactionTag[j]=this.outerHTML.replace(/"/g,"'"),j++)}),$.each(interactionId,function(i){var interactionId=this;questionText=questionText.replace(interactionTag[i],""),__content.answersJSON[interactionId]=jsonContent.responses[interactionId],__content.optionsJSON[interactionId]=jsonContent.content.interactions[interactionId]}),__content.questionText=questionText,jsonContent}function __saveResults(bSubmit){var uniqueId=activityAdaptor.getId(),answerJSON=__getAnswersJSON(!1);bSubmit===!0?activityAdaptor.submitResults(answerJSON,uniqueId,function(data,status){status===__constants.STATUS_NOERROR?(__state.activitySubmitted=!0,activityAdaptor.closeActivity(),__state.currentTries=0):__state.currentTries<__config.MAX_RETRIES&&(__state.currentTries++,__saveResults(bSubmit))}):activityAdaptor.savePartialResults(answerJSON,uniqueId,function(data,status){status===__constants.STATUS_NOERROR&&(__state.activityPariallySubmitted=!0)})}function __markAnswers(){var markAnswerObj={},userAnswers=__content.userAnswersJSON,options=__content.optionsJSON,interactions=Object.keys(__content.optionsJSON);interactions.forEach(function(element,index){userAnswers[element]&&userAnswers[element].status&&"correct"==userAnswers[element].status?markAnswerObj[options[element].type]={status:!0}:markAnswerObj[options[element].type]={status:!1}}),__pluginInstance.markAnswers(markAnswerObj)}function __getAnswersJSON(skipQuestion){var answers="",interactionArray=[],statusProgress=__constants.ACTIVITY_NOT_ATTEMPTED,statusEvaluation=__constants.ACTIVITY_INCORRECT,partiallyCorrect=!1,correct=!1;if(skipQuestion)answers="Not Answered";else{answers=__content.userAnswersJSON;for(var answerID in answers){var interaction={};interaction.id=answerID,interaction.answer=answers[answerID].answer,interaction.maxscore=answers[answerID].maxscore,interaction.score=answers[answerID].score,interaction.unit=answers[answerID].unit,interactionArray.push(interaction)}}var interactions=Object.keys(__content.optionsJSON);partiallyCorrect=interactions.some(function(element,index){if(answers[element]&&"correct"==answers[element].status)return!0}),correct=interactions.every(function(element,index){if(answers[element]&&"correct"==answers[element].status)return!0}),partiallyCorrect&&(statusEvaluation=__constants.ACTIVITY_PARTIALLY_CORRECT),correct&&(statusEvaluation=__constants.ACTIVITY_CORRECT);var response={interactions:interactionArray};return skipQuestion||(statusProgress=__constants.ACTIVITY_IN_PROGRESS),response.statusProgress=statusProgress,response.statusEvaluation=statusEvaluation,{response:response}}var activityAdaptor,__processedJsonContent,__pluginInstance,__config={MAX_RETRIES:10,RESIZE_MODE:"auto",RESIZE_HEIGHT:"580"},__state={currentTries:0,activityPariallySubmitted:!1,activitySubmitted:!1,radioButtonClicked:!1},__content={instructionText:"",score:{},appData:{},questionText:"",optionsJSON:{},answersJSON:{},userAnswersJSON:{},activityType:null},__constants={STATUS_NOERROR:"NO_ERROR",ACTIVITY_NOT_ATTEMPTED:"not_attempted",ACTIVITY_IN_PROGRESS:"in_progress",ACTIVITY_PARTIALLY_CORRECT:"partially_correct",ACTIVITY_CORRECT:"correct",ACTIVITY_INCORRECT:"incorrect",TEMPLATES:{cosmatttsc:cosmatttscTemplateRef}},__interactionIds=[];return{init:init,getStatus:getStatus,getConfig:getConfig,handleSubmit:handleSubmit,showGrades:showGrades,updateLastSavedResults:updateLastSavedResults}}}),function(c){var d=document,a="appendChild",i="styleSheet",s=d.createElement("style");s.type="text/css",d.getElementsByTagName("head")[0][a](s),s[i]?s[i].cssText=c:s[a](d.createTextNode(c))}("/*******************************************************\r\n * \r\n * ----------------------\r\n * Engine Renderer Styles\r\n * ----------------------\r\n *\r\n * These styles do not include any product-specific branding\r\n * and/or layout / design. They represent minimal structural\r\n * CSS which is necessary for a default rendering of an\r\n * MCQSC activity\r\n *\r\n * The styles are linked/depending on the presence of\r\n * certain elements (classes / ids / tags) in the DOM (as would\r\n * be injected via a valid MCQSC layout HTML and/or dynamically\r\n * created by the MCQSC engine JS)\r\n *\r\n *\r\n *******************************************************/\r\n.cosmatttsc-engine .question-text{\r\n    color: #366894;\r\n    font-size: 1.286em;\r\n\r\n}/*!\n * Slider for Bootstrap\n *\n * Copyright 2012 Stefan Petre\n * Licensed under the Apache License v2.0\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n */\n.slider {\n  display: inline-block;\n  vertical-align: middle;\n  position: relative;\n  margin-bottom: 10px\n}\n\n.slider[class*=\"span\"] {\n  float: none;\n  margin-left: 0;\n}\n\n.slider-horizontal {\n  width: 210px;\n  height: 20px;\n}\n\n.slider-horizontal .slider-handle-container,\n.slider-horizontal .slider-track {\n  height: 10px;\n  margin-top: -5px;\n  top: 50%;\n}\n\n.slider-horizontal .slider-track {\n  left: 0;\n  right: 0;\n}\n\n.slider-horizontal .slider-handle-container {\n  left: 10px;\n  right: 10px;\n}\n\n.slider-horizontal .slider-selection {\n  height: 100%;\n  top: 0;\n  bottom: 0;\n}\n\n.slider-horizontal .slider-handle {\n  margin-left: -10px;\n  margin-top: -5px;\n}\n\n.slider-vertical {\n  height: 210px;\n  width: 20px;\n}\n\n.slider-vertical .slider-handle-container,\n.slider-vertical .slider-track {\n  width: 10px;\n  margin-left: -5px;\n  left: 50%;\n}\n\n.slider-vertical .slider-track {\n  top: 0;\n  bottom: 0;\n}\n\n.slider-vertical .slider-handle-container {\n  top: 10px;\n  bottom: 10px;\n}\n.slider-vertical .slider-selection {\n  width: 100%;\n  left: 0;\n  top: 0;\n  bottom: 0;\n}\n\n.slider-vertical .slider-handle {\n  margin-left: -5px;\n  margin-top: -10px;\n}\n\n.slider input,\n.slider input[class*=\"span\"] {\n  display: none;\n}\n\n.slider .tooltip-inner {\n  white-space: nowrap;\n}\n\n.slider-handle-container {\n  position: absolute;\n}\n\n.slider-track {\n  position: absolute;\n  cursor: pointer;\n  background-color: #f7f7f7;\n  background-image: -moz-linear-gradient(top, #f5f5f5, #f9f9f9);\n  background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#f5f5f5), to(#f9f9f9));\n  background-image: -webkit-linear-gradient(top, #f5f5f5, #f9f9f9);\n  background-image: -o-linear-gradient(top, #f5f5f5, #f9f9f9);\n  background-image: linear-gradient(to bottom, #f5f5f5, #f9f9f9);\n  background-repeat: repeat-x;\n  -webkit-border-radius: 4px;\n     -moz-border-radius: 4px;\n          border-radius: 4px;\n  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#fff5f5f5', endColorstr='#fff9f9f9', GradientType=0);\n  -webkit-box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);\n     -moz-box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);\n          box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);\n}\n\n.slider-selection {\n  position: absolute;\n  background-color: #e6e6e6;\n  background-image: -moz-linear-gradient(top, #f0f0f0, #e0e0e0);\n  background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#f0f0f0), to(#e0e0e0));\n  background-image: -webkit-linear-gradient(top, #f0f0f0, #e0e0e0);\n  background-image: -o-linear-gradient(top, #f0f0f0, #e0e0e0);\n  background-image: linear-gradient(to bottom, #f0f0f0, #e0e0e0);\n  background-repeat: repeat-x;\n  -webkit-box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);\n     -moz-box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);\n          box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);\n  -webkit-box-sizing: border-box;\n     -moz-box-sizing: border-box;\n          box-sizing: border-box;\n  -webkit-border-radius: 20px;\n     -moz-border-radius: 20px;\n          border-radius: 20px;\n}\n\n.slider-handle {\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n}\n\n.slider-knob {\n  width: 20px;\n  height: 20px;\n  background-color: #f5f5f5;\n  background-image: -moz-linear-gradient(top, #e6e6e6, #ffffff);\n  background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#e6e6e6), to(#ffffff));\n  background-image: -webkit-linear-gradient(top, #e6e6e6, #ffffff);\n  background-image: -o-linear-gradient(top, #e6e6e6, #ffffff);\n  background-image: linear-gradient(to bottom, #e6e6e6, #ffffff);\n  background-repeat: repeat-x;\n  border: 1px solid #bbbbbb;\n  border-color: #e6e6e6 #e6e6e6 #bfbfbf;\n  border-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);\n  border-bottom-color: #a2a2a2;\n  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffffff', endColorstr='#ffe6e6e6', GradientType=0);\n  filter: progid:DXImageTransform.Microsoft.gradient(enabled=false);\n  -webkit-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);\n     -moz-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);\n          box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);\n  -webkit-border-radius: 20px;\n     -moz-border-radius: 20px;\n          border-radius: 20px;\n}\n\n.slider-handle:active .slider-knob,\n.slider-handle:hover .slider-knob {\n  background-color: #e6e6e6;\n  background-position: 0 5px;\n  -webkit-transition: background-position 0.1s linear;\n     -moz-transition: background-position 0.1s linear;\n       -o-transition: background-position 0.1s linear;\n          transition: background-position 0.1s linear;\n}.tsCruveContainer #servoMotorArea #motorSelectionTableContainer #motorSelectionTable .motorStatusCell,.tsCruveContainer #servoMotorArea #motorSelectionTableContainer #motorSelectionTable thead tr .statusHead{text-align:center}.tsCruveContainer{margin:30px 3%}.tsCruveContainer .curveConfigContainer{margin-right:0;margin-left:0}.tsCruveContainer #servoMotorTSCurve{margin:0 auto}.tsCruveContainer #servoMotorTSCurve.rightBorder{border-right:solid #d3d3d3 1px}.tsCruveContainer #servoMotorArea{margin-left:10px;padding-top:7px}#servoMotorTSCurve.widthMaxLimit{max-width:870px}.tsCruveContainer #servoMotorArea #servoMotorInfoContainer .table{margin-bottom:0}.tsCruveContainer #servoMotorArea #motorSelectionTableContainer{min-width:325px;padding-left:5px;padding-right:0}.tsCruveContainer #servoMotorArea #motorSelectionTableContainer #motorSelectionTable{cursor:pointer;margin-bottom:0}.tsCruveContainer #servoMotorArea #motorSelectionTableContainer #motorSelectionTable tr td{vertical-align:middle}.tsCruveContainer #servoMotorArea #motorSelectionTableContainer #motorSelectionTable .motorSelected{background-color:#F5F5F5}.tsCruveContainer #servoMotorArea #motorAreaAccordionContainer .motorStatusIcon.glyphicon-ok{color:green}.tsCruveContainer #servoMotorArea #motorAreaAccordionContainer .motorStatusIcon.glyphicon-remove{color:red}.tsCruveContainer #motorAreaAccordionContainer #tsPointsPanelContainer #statusValueContainer div{padding-left:0}.tsCruveContainer #servoMotorArea #motorSelectionTableContainer #motorSelectionTable .motorDetailsCell{padding-bottom:3px;padding-top:3px}.tsCruveContainer #servoMotorArea #motorSelectionTableContainer #motorSelectionTable .motorDetailsCell .btn-info{padding-top:4px;padding-bottom:4px}.tsCruveContainer #servoMotorArea #motorSelectionTableContainer #motorSelectionTable .motorDetailsCell #motorDetailsButton{display:none}.tsCruveContainer #servoMotorArea #motorSelectionTableContainer #motorSelectionTable .motorDetailsCell #motorDetailsButton.btn-info-visible{display:block}.tsCruveContainer .tsPlotArea{min-height:460px}.tsCruveContainer .curveConfigContainer{min-height:40px;margin-bottom:25px;margin-top:15px}.tsCruveContainer .curveConfigContainer .tableDDContainer .tableSelectDDMenu{height:30px}.tsCruveContainer .curveConfigContainer .motorSpecContainer #motorButton{padding:2px 0 0 2px}.tsCruveContainer .curveConfigContainer .motorSpecContainer #motorButton #motorSpecButton{height:26px;width:33px}.tsCruveContainer .curveConfigContainer .plotModeContainer #plotModeToggle .selectedQuad{background-color:#E6E6E4}.tsCruveContainer .curveConfigContainer .plotModeContainer #quadrantTitle{font-weight:700}.tsCruveContainer .curveConfigContainer .plotModeContainer #quadRadioContainer{margin:12px 3px 11px}.tsCruveContainer .curveConfigContainer .plotModeContainer label{font-weight:400;cursor:pointer}.tsCruveContainer .curveConfigContainer .plotModeContainer label#quadrantTitle{font-weight:700}.tsCruveContainer .accordion-plus-minus{color:grey}.tsCruveContainer #motorStatus{padding-right:0;padding-left:0}.tsCurveFlotTip{padding:4px 10px;background-color:rgba(0,0,0,.8)!important;border:1px solid #000!important;z-index:100;font-size:12px;color:#fff;border-radius:5px}.tsCruveContainer #servoMotorInfoContainer .motorSpecTable .tableRow{min-height:30px;padding:5px;margin-right:0;margin-left:0;border-bottom:solid #d3d3d3 1px}.tsCruveContainer #servoMotorInfoContainer .motorSpecTable .tableHeading{min-height:30px;padding:3px;margin-right:0;margin-left:0;font-weight:700;font-size:18px;border-bottom:solid #d3d3d3 1px}.tsCruveContainer #servoMotorInfoContainer .motorSpecTable .leftCol{border-right:solid #d3d3d3 1px;max-width:80px}.tsCruveContainer #servoMotorInfoContainer .motorSpecTable .rightCol{max-width:80px}.tsCruveContainer #servoMotorInfoContainer .motorSpecTable{background-color:#fefefe;margin:auto;border:5px solid #888;width:40%;border-radius:5px;-webkit-border-radius:5px;-moz-border-radius:5px;-webkit-box-shadow:0 0 10px 5px rgba(0,0,0,.28);-moz-box-shadow:0 0 10px 5px rgba(0,0,0,.28);box-shadow:0 0 10px 5px rgba(0,0,0,.28)}.tsCruveContainer .motorSpecTable table{margin-bottom:0}.tsCruveContainer .motorSpecTable .motorTableTitle{text-align:center;color:#000;font-size:16px;font-weight:700;border-bottom:solid 2px #d3d3d3}.tsCruveContainer #motorInfoContainer{height:5px;width:1px}.tsCruveContainer #feedbackContainer #feedbackTitle{font-weight:700;padding-left:5px;font-size:18px}.tsCruveContainer #feedbackContainer .motorStatusContainer{margin-right:0}.tsCruveContainer #feedbackContainer .motorStatusContainer #motorStatusIcon{height:20px;width:20px;margin-left:5px;margin-top:1px;margin-right:10px;padding-right:0}.tsCruveContainer #feedbackContainer .motorStatusContainer #motorStatus{font-size:17px}#editConfigBtnContainer{width:100%;padding-right:30px;bottom:0;z-index:100;height:60px;position:absolute;right:0}.tsCruveContainer #motorSpecTableModal .modal-body{padding:0;border:4px solid #c3c3c3}.tsCruveContainer #servoMotorInfoContainer{display:none;width:100%;height:100%;position:absolute;z-index:101;padding-top:100px;left:0;top:0}.tsCruveContainer #servoMotorArea #motorSlider{margin-right:3px}.tsCruveContainer .tsPlotArea .legendLabel{padding:5px}.tsCruveContainer .tsPlotArea .legend table{pointer-events:none;margin:0!important;width:initial}.tsCruveContainer .tsPlotArea .legend table tr{background-color:transparent!important;border-width:0!important;margin:2px 0}.tsCruveContainer .tsPlotArea .legend table tr td{border-width:0!important;padding-top:0!important;vertical-align:middle;text-align:left!important}.slider.slider-horizontal{width:92%}.tsCruveContainer .slider-handle{width:10px;height:10px;cursor:pointer}.tsCruveContainer .slider-horizontal{cursor:pointer}.tsCruveContainer .slider.slider-horizontal .slider-track{height:2px}.tsCruveContainer .slider-tick{width:10px;height:10px}.tsCruveContainer span{font-size:11px}lable.value{font-size:10px}.solutionInfoTitle{font-size:11px}@media (min-width:1440px){.tsCruveContainer .slider-handle{width:12px;height:12px;cursor:pointer}#collapseOne .slider-tick{width:12px;height:12px}#collapseOne .slider.slider-horizontal .slider-track{height:3px}.solutionInfoTitle,.tsCruveContainer span,lable.value{font-size:14px}}@media (max-width:1024px){#servoMotorArea,#servoMotorTSCurve{width:100%;flex:inherit;max-width:100%}#collapseOne .slider-handle{width:12px;height:12px;cursor:pointer}#collapseOne .slider-tick{width:12px;height:12px}#collapseOne .slider.slider-horizontal .slider-track{height:3px}#motorAreaAccordionContainer lable.value,.solutionInfoTitle,.tsCruveContainer label.value,.tsCruveContainer span{font-size:12px}}#envFactorsPanelContainer .ui-slider,#transmissionRatioPanelContainer .ui-slider,.tsCruveContainer #motorAreaAccordionContainer #tsPointsPanelContainer .ui-slider{margin-top:4px}.tsCruveContainer #motorAreaAccordionContainer #tsPointsPanelContainer #alertMessageContainer{display:none;margin-bottom:0}#envFactorsPanelContainer .title,#motorDataContainer .title,#transmissionRatioPanelContainer .title,.tsCruveContainer #motorAreaAccordionContainer #tsPointsPanelContainer .title{padding-right:1px;font-size:12px}#envFactorsPanelContainer label.value,#transmissionRatioPanelContainer label.value,.tsCruveContainer #motorAreaAccordionContainer #tsPointsPanelContainer label.value{font-weight:400;font-size:12px}#envFactorsPanelContainer #sliderContainer,#transmissionRatioPanelContainer #sliderContainer,.tsCruveContainer #motorAreaAccordionContainer #tsPointsPanelContainer #sliderContainer{padding-top:5px}.tsCruveContainer .motorTableTitle .closeButtonStyle{color:#333;cursor:pointer;display:inline;float:right;height:20px;margin-right:11px;text-align:center;width:20px}.tsCruveContainer .motorTableTitle .closeButtonStyle:hover{background-color:#ddd}.tsCruveContainer #motorAreaAccordionContainer .panel-heading a:hover,a:focus{text-decoration:none}.tsCruveContainer #motorAreaAccordionContainer .panel-default{margin-bottom:5px;border:1px solid #ddd;border-radius:4px}.tsCruveContainer #motorAreaAccordionContainer .panel-heading .panel-title{font-weight:500;font-size:16px;color:#000;margin-bottom:0}.tsCruveContainer #motorAreaAccordionContainer .panel-heading .panel-title a{color:#000;display:block;padding:10px 15px;margin:-10px -15px}.tsCruveContainer #sizeSlider .slider-selection{background:#BABABA}.tsCruveContainer .solutionDivider{border:1px solid #ddd;margin:20px}.tsCruveContainer .solutionInfoContainer{padding-top:8px;font-size:12px}.motorName,.solutionStatus,.tsCruveContainer .driveName,.voltageName{padding:10px}.tsCruveContainer .panelNew{background-color:#fff;border:1px solid transparent;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.05);box-shadow:0 1px 1px rgba(0,0,0,.05);margin-bottom:0;border-radius:4px}.tsCruveContainer .panel-group .panelNew{margin-bottom:5px;border-radius:4px}.tsCruveContainer .panel-defaultNew{border-color:#ddd}.tsCruveContainer #motorAreaAccordionContainer .panel-heading{color:#333;background-color:#f5f5f5;border-color:#ddd;cursor:default}.tsCruveContainer .solutionStatus{color:#fff;font-size:10px;padding:1px 10px;margin-left:7px}.tsCruveContainer .motorPass{background-color:#64BD63}.tsCruveContainer .motorFail{background-color:#DD5826}.tsCruveContainer .accordion-plus-minus,.tsCruveContainer .accordion-plus-plus{font-size:9px}.tsCruveContainer .motorDataOpenPanle{display:block}.tsCruveContainer .widgetNumberInput{height:20px;width:55%;display:inline-block;padding:0;max-width:95px}.tsCruveContainer .correct{background-color:#f0fff0;border-color:#7DC27D}.tsCruveContainer .incorrect{background-color:#fff0f0;border-color:#A90329}");