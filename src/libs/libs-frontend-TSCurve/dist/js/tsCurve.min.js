"use strict";!function(e){e.fn.TSCurve=function(a){var t,i=e(this),o={showApplicationPoints:!1,motorSelectedIndex:3,rmsPoints:[190,44],peakPoints:[400,60],quadrant:1,sliderLimit:{peakMaxSpeed:800,peakMaxTorque:100,rmsMaxSpeed:800,rmsMaxTorque:100,maxTemp:125,maxAltitude:1e4,maxVoltage:10,maxTrRatio:100},showQuadrantToggle:!0,showMotorTsCurve:!0,showMotorSelForm:!0,showAppPointsForm:!0,showEnviorForm:!0,showTransmissionForm:!0,uniqeId:"1",firstTimeCall:"0"},d=e.extend({},o,a),r=function(){var a=e('<div class="tsCruveContainer row m-0"></div>');i.append(a),l(a)},l=function(a){var t=e('<div id="servoMotorTSCurve"></div>');if(a.append(t),d.showMotorSelForm||d.showAppPointsForm||d.showEnviorForm||d.showTransmissionForm){t.addClass("col-md-7");var i=e('<div class="col-md-5 row" id="servoMotorArea"></div>');a.append(i),s(i)}else t.addClass("col-md-12 widthMaxLimit");T(t),g()},s=function(a){var t=e('<div id="motorAreaAccordionContainer"></div>');a.append(t);var i=e('<div class="panel-group" id="accordion'+d.uniqeId+'" role="tablist" aria-multiselectable="true"></div>');t.append(i),d.showMotorTsCurve||(d.showMotorSelForm=!1),d.showMotorSelForm&&n(i),d.showApplicationPoints||(d.showAppPointsForm=!1),d.showAppPointsForm&&u(i),d.showEnviorForm&&f(i),d.showTransmissionForm&&h(i),p()},n=function(a){function t(e){var e=e-1;console.log(d.motorData[e].drivePartNo),n.find("#driveNameId").text(d.motorData[e].drivePartNo),n.find("#motorNameId").text(d.motorData[e].motorPartNo),n.find("#voltageInfoId").text(d.motorData[e].voltage+" V"),n.find("#solutionTitle").text("Soultion Size: "+e),d.motorSelectedIndex=e,i.find("#tempSlider").slider("setValue",d.motorData[d.motorSelectedIndex].temp),i.find("#tempValue").val(d.motorData[d.motorSelectedIndex].temp),i.find("#altitudeSlider").slider("setValue",d.motorData[d.motorSelectedIndex].altitude),i.find("#altitudeValue").val(d.motorData[d.motorSelectedIndex].altitude),d.defaultPeakStallTorque=d.motorData[d.motorSelectedIndex].peakStallTorque,d.defaultRollOffPoint=d.motorData[d.motorSelectedIndex].rollOffPoint,d.defaultRollOffSpeed=d.motorData[d.motorSelectedIndex].rollOffSpeed,d.defaultPeakTorqueAtMaxSpeed=d.motorData[d.motorSelectedIndex].peakTorqueAtMaxSpeed,d.defaultContinuousStallTorque=d.motorData[d.motorSelectedIndex].continuousStallTorque,d.defaultContinuosTorqueAtMaxSpeed=d.motorData[d.motorSelectedIndex].continuosTorqueAtMaxSpeed,d.motorSelectedIndex=e,k(),p()}var o=e('<div class="panelNew panel-defaultNew"></div>');a.append(o);var r=e('<div class="panel-heading panelHeadingNew" role="tab" id="headingOne"> <div id="PaginationDiv" class="Pagination"></div><span class="accordion-plus-minus  pull-right" aria-hidden="true" style="color: grey;"></span> </div>');o.append(r);var l=e('<div id="collapseOne" class="panel-collapse collapse motorDataOpenPanle" role="tabpanel" aria-labelledby="headingOne"></div>');o.append(l);var s=e('<div class="panel-body"></div>');l.append(s),o.on("show.bs.collapse",function(a){e(this).find(".accordion-plus-minus").removeClass("glyphicon-chevron-down fa fa-chevron-down").addClass("glyphicon-chevron-up fa fa-chevron-up")}),o.on("hide.bs.collapse",function(a){e(this).find(".accordion-plus-minus").removeClass("glyphicon-chevron-up fa fa-chevron-up").addClass("glyphicon-chevron-down fa fa-chevron-down")});var s=o.find("#collapseOne .panel-body"),n=e('<div id="motorDataContainer" class="row"></div>');s.append(n);var u=e('<div class="col-sm-12 title"><span id="solutionTitle">Solution Size: </sapn></div>');n.append(u);var c=e('<div class="col-sm-11 solutionDivider"></div>');n.append(c);var m=e('<div class="col-sm-12 solutionInfoTitle">Solution Summary</div>');n.append(m);var v=e('<div class="col-sm-12 solutionInfoContainer row"></div>');n.append(v);var f=e('<div class="col-sm-6"><span class="driveTitle">Drive:</span><span class="driveName" id="driveNameId">'+d.motorData[d.motorSelectedIndex].drivePartNo+"</span></div>");v.append(f);var S=e('<div class="col-sm-6"><span class="motorTitle">Motor:</span><span class="motorName" id="motorNameId">'+d.motorData[d.motorSelectedIndex].motorPartNo+"</span></div>");v.append(S);var h=e('<div class="col-sm-12 solutionInfoContainer row"></div>');n.append(h);var x=e('<div class="col-sm-6"><span class="voltageTitle">Voltage:</span><span class="voltageName" id="voltageInfoId">'+d.motorData[d.motorSelectedIndex].voltage+" V</span></div>");h.append(x);var T=e('<div class="col-sm-6"><span class="solutionStatusTitle">Solution Status:</span><span class="solutionStatus motorPass" id="statusValueContainer">Pass</span></div>');h.append(T),r.find("#PaginationDiv").Folio({totalPages:d.motorData.length,maxPages:12,activePage:1,previousClass:"fa fa-chevron-left",nextClass:"fa fa-chevron-right",onUpdate:function(e){d.firstTimeCall=e,t(e)}})},p=function(){var e=b(d.motorData[d.motorSelectedIndex]).status;if(d.showMotorSelForm){var a=i.find("#statusValueContainer");a.removeClass("motorPass"),a.removeClass("motorFail"),a.addClass(e?"motorPass":"motorFail"),a.text(e?"Pass":"Fail")}if(d.showAppPointsForm){var t=i.find("#servoMotorArea #tsPointsPanelContainer #statusValueContainer");t.find(".motorStatusIcon").removeClass("glyphicon-remove").removeClass("glyphicon-ok").addClass(e?"glyphicon-ok":"glyphicon-remove"),t.find("#statusValueLabel").text(e?"Motor Pass":"Motor Fail")}},u=function(a){var t=e('<div class="panel panel-default"></div>');a.append(t);var i=e('<div class="panel-heading" role="tab" id="headingTwo"> <h4 class="panel-title"> <a role="button" data-parent="#accordion'+d.uniqeId+'" data-toggle="collapse"  href="#collapseTwo'+d.uniqeId+'" aria-controls="collapseTwo" aria-expanded="false"><span>Application Torque Speed Requirements </span><span class="accordion-plus-minus glyphicon pull-right glyphicon-chevron-down fa fa-chevron-down" aria-hidden="true" style="color: grey;"></span> </a> </h4> </div>');t.append(i);var o=e('<div id="collapseTwo'+d.uniqeId+'" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo"></div>');t.append(o),t.on("show.bs.collapse",function(a){e(this).find(".accordion-plus-minus").removeClass("glyphicon-chevron-down fa fa-chevron-down").addClass("glyphicon-chevron-up fa fa-chevron-up")}),t.on("hide.bs.collapse",function(a){e(this).find(".accordion-plus-minus").removeClass("glyphicon-chevron-up fa fa-chevron-up").addClass("glyphicon-chevron-down fa fa-chevron-down")}),d.showMotorSelForm||o.addClass("in"),v(o)},c=function(e,a){var o=t.getData();switch(e){case"PeakSpeed":o[1].data[0][0]=d.peakPoints[0]=a,d.defaultPeakSpeed=a,i.find("#peakSpeedSlider").slider("setValue",a);break;case"PeakTorque":o[1].data[0][1]=d.peakPoints[1]=a,d.defaultPeakTorque=a,i.find("#peakTorqueSlider").slider("setValue",a);break;case"RmsSpeed":o[3].data[0][0]=d.rmsPoints[0]=a,d.defaultRmsSpeed=a,i.find("#rmsSpeedSlider").slider("setValue",a);break;case"RmsTorque":o[3].data[0][1]=d.rmsPoints[1]=a,d.defaultRmsTorque=a,i.find("#rmsTorqueSlider").slider("setValue",a);break;case"TransmissionRatio":var r=a,o=t.getData();o[1].data[0][0]=d.peakPoints[0]=(d.defaultPeakSpeed*r).toFixed(2),o[1].data[0][1]=d.peakPoints[1]=(d.defaultPeakTorque/r).toFixed(2),o[3].data[0][0]=d.rmsPoints[0]=(d.defaultRmsSpeed*r).toFixed(2),o[3].data[0][1]=d.rmsPoints[1]=(d.defaultRmsTorque/r).toFixed(2),o[1].data[0][0]>d.sliderLimit.peakMaxSpeed?i.find("#peakSpeedValue").attr("data-max",parseInt(o[1].data[0][0])):i.find("#peakSpeedValue").attr("data-max",d.sliderLimit.peakMaxSpeed),o[3].data[0][0]>d.sliderLimit.rmsMaxSpeed?i.find("#rmsSpeedValue").attr("data-max",parseInt(o[3].data[0][0])):i.find("#rmsSpeedValue").attr("data-max",d.sliderLimit.rmsMaxSpeed),i.find("#trRatioSlider").slider("setValue",a),i.find("#peakSpeedSlider").slider("setValue",o[1].data[0][0]),i.find("#peakTorqueSlider").slider("setValue",o[1].data[0][1]),i.find("#rmsSpeedSlider").slider("setValue",o[3].data[0][0]),i.find("#rmsTorqueSlider").slider("setValue",o[3].data[0][1]),i.find("#peakSpeedValue").val(o[1].data[0][0]),i.find("#peakTorqueValue").val(o[1].data[0][1]),i.find("#rmsSpeedValue").val(o[3].data[0][0]),i.find("#rmsTorqueValue").val(o[3].data[0][1])}w(o),p()},m=function(a){var o=t.getData();switch(a){case"PeakSpeed":o[1].data[0][0]=d.peakPoints[0]=i.find("#peakSpeedSlider").slider("getValue"),d.defaultPeakSpeed=i.find("#peakSpeedSlider").slider("getValue"),i.find("#peakSpeedValue").val(e("#peakSpeedSlider").slider("getValue"));break;case"PeakTorque":o[1].data[0][1]=d.peakPoints[1]=i.find("#peakTorqueSlider").slider("getValue"),d.defaultPeakTorque=i.find("#peakTorqueSlider").slider("getValue"),i.find("#peakTorqueValue").val(e("#peakTorqueSlider").slider("getValue"));break;case"RmsSpeed":o[3].data[0][0]=d.rmsPoints[0]=i.find("#rmsSpeedSlider").slider("getValue"),d.defaultRmsSpeed=i.find("#rmsSpeedSlider").slider("getValue"),i.find("#rmsSpeedValue").val(e("#rmsSpeedSlider").slider("getValue"));break;case"RmsTorque":o[3].data[0][1]=d.rmsPoints[1]=i.find("#rmsTorqueSlider").slider("getValue"),d.defaultRmsTorque=i.find("#rmsTorqueSlider").slider("getValue"),i.find("#rmsTorqueValue").val(e("#rmsTorqueSlider").slider("getValue"));break;case"TransmissionRatio":var r=i.find("#trRatioSlider").slider("getValue"),o=t.getData();o[1].data[0][0]=d.peakPoints[0]=(d.defaultPeakSpeed*r).toFixed(2),o[1].data[0][1]=d.peakPoints[1]=(d.defaultPeakTorque/r).toFixed(2),o[3].data[0][0]=d.rmsPoints[0]=(d.defaultRmsSpeed*r).toFixed(2),o[3].data[0][1]=d.rmsPoints[1]=(d.defaultRmsTorque/r).toFixed(2),o[1].data[0][0]>d.sliderLimit.peakMaxSpeed?i.find("#peakSpeedSlider").slider("setAttribute","max",parseInt(o[1].data[0][0])):i.find("#peakSpeedSlider").slider("setAttribute","max",d.sliderLimit.peakMaxSpeed),o[3].data[0][0]>d.sliderLimit.rmsMaxSpeed?i.find("#rmsSpeedSlider").slider("setAttribute","max",parseInt(o[3].data[0][0])):i.find("#rmsSpeedSlider").slider("setAttribute","max",d.sliderLimit.rmsMaxSpeed),i.find("#peakSpeedSlider").slider("setValue",o[1].data[0][0]),i.find("#peakTorqueSlider").slider("setValue",o[1].data[0][1]),i.find("#rmsSpeedSlider").slider("setValue",o[3].data[0][0]),i.find("#rmsTorqueSlider").slider("setValue",o[3].data[0][1]),i.find("#trRatioValue").val(r),i.find("#peakSpeedValue").val(o[1].data[0][0]),i.find("#peakTorqueValue").val(o[1].data[0][1]),i.find("#rmsSpeedValue").val(o[3].data[0][0]),i.find("#rmsTorqueValue").val(o[3].data[0][1])}w(o),p()},v=function(a){var t=e('<div class="panel-body"></div>');a.append(t);var o=e('<div id="tsPointsPanelContainer"></div>');t.append(o);var r=e('<div id="sliderContainer" class="row"></div>');o.append(r);var l=e('<div class="col-sm-3 title"><span id="peakTorqueTitle">Peak Torque: </span></div>');r.append(l);var s=e('<div class="col-sm-4 slider-right-padding"><input id="peakTorqueSlider" data-slider-value="'+d.peakPoints[1]+'" data-slider-id="sizeSlider" type="text" data-slider-tooltip="hide"/></div>');r.append(s);var n=e('<div class="col-sm-5 slider-right-padding display-flex"> <div class="input-group spinner" data-trigger="spinner" id="peakTorqueSpinner"><input id="peakTorqueValue" type="text" class="form-control text-center widget-textbox-height" data-max="'+d.sliderLimit.peakMaxTorque+'" data-min="0" data-step="0.1"  value="'+d.peakPoints[1]+'" data-rule="currency"><div class="input-group-addon"><a href="javascript:;" class="spin-up" data-spin="up"><i class="fa fa-caret-up"></i></a><a href="javascript:;" class="spin-down" data-spin="down"><i class="fa fa-caret-down"></i></a></div></div><label class="value"></label>&nbsp;&nbsp;Nm</div>');r.append(n);var p=s.find("#peakTorqueSlider").slider({min:0,max:d.sliderLimit.peakMaxTorque,step:.1}).on("change",function(){return s.find("#peakTorqueSlider").slider("getValue")<d.rmsPoints[1]?(s.find("#peakTorqueSlider").slider("setValue",u),I("Peak Torque can not be less than RMS Torque."),!1):(I(""),m("PeakTorque"),void(u=s.find("#peakTorqueSlider").slider("getValue")))});d.disableControls&&d.disableControls.peakTorqueSlider&&p.slider("disable");var u=s.find("#peakTorqueSlider").slider("getValue");i.find("#peakTorqueSpinner").spinner("changed",function(a,t,o){if(e(this).data("oldValue",o),t<d.rmsPoints[1])return i.find("#peakTorqueValue").val(e(this).data("oldValue")),I("Peak Torque can not be less than RMS Torque."),!1;I("");var r=parseInt(e(this).attr("data-min")),l=parseInt(e(this).attr("data-max")),n=e(this).val();return n>=r&&l>=n?(e(this).data("oldValue",e(this).val()),void c("PeakTorque",t)):void e(this).val(s.find("#peakTorqueSlider").slider("getValue"))}),d.disableControls&&d.disableControls.peakTorqueTextBox&&i.find("#peakTorqueValue").attr("disabled",!0);var v=e('<div id="sliderContainer" class="row"></div>');o.append(v);var f=e('<div class="col-sm-3 title"><span id="peakSpeedTitle">Peak Speed: </sapn></div>');v.append(f);var S=e('<div class="col-sm-4 slider-right-padding"><input id="peakSpeedSlider" data-slider-value="'+d.peakPoints[0]+'" data-slider-id="sizeSlider" type="text" data-slider-tooltip="hide"/></div>');v.append(S);var h=e('<div class="col-sm-5 slider-right-padding display-flex"> <div class="input-group spinner" data-trigger="spinner" id="peakSpeedSpinner"><input id="peakSpeedValue" type="text" class="form-control text-center widget-textbox-height" data-max="'+d.sliderLimit.peakMaxSpeed+'" data-min="0" data-step="1"  value="'+d.peakPoints[0]+'" data-rule="currency"><div class="input-group-addon"><a href="javascript:;" class="spin-up" data-spin="up"><i class="fa fa-caret-up"></i></a><a href="javascript:;" class="spin-down" data-spin="down"><i class="fa fa-caret-down"></i></a></div></div><label class="value"></label>&nbsp;&nbsp;rad/sec</div>');v.append(h);var x=S.find("#peakSpeedSlider").slider({min:0,max:d.sliderLimit.peakMaxSpeed,step:1}).on("change",function(){return S.find("#peakSpeedSlider").slider("getValue")<d.rmsPoints[0]?(S.find("#peakSpeedSlider").slider("setValue",d.rmsPoints[0]),I("Peak Speed can not be less than RMS Speed."),!1):(I(""),void m("PeakSpeed"))});d.disableControls&&d.disableControls.peakSpeedSlider&&x.slider("disable"),i.find("#peakSpeedSpinner").spinner("changed",function(a,t,o){if(e(this).data("oldValue",o),t<d.rmsPoints[0])return console.log("$(this).data('oldValue'): ",e(this).data("oldValue")),i.find("#peakSpeedValue").val(e(this).data("oldValue")),I("Peak Speed can not be less than RMS Speed."),!1;I("");var r=parseInt(e(this).attr("data-min")),l=parseInt(e(this).attr("data-max")),s=e(this).val();return s>=r&&l>=s?(e(this).data("oldValue",e(this).val()),void c("PeakSpeed",a.target.value)):void e(this).val(S.find("#peakSpeedSlider").slider("getValue"))}),d.disableControls&&d.disableControls.peakSpeedTextBox&&i.find("#peakSpeedValue").attr("disabled",!0);var T=e('<div id="sliderContainer" class="row"></div>');o.append(T);var g=e('<div class="col-sm-3 title"><span id="rmsTorqueTitle">RMS Torque: </sapn></div>');T.append(g);var q=e('<div class="col-sm-4 slider-right-padding"><input id="rmsTorqueSlider" data-slider-value="'+d.rmsPoints[1]+'" data-slider-id="sizeSlider" type="text" data-slider-tooltip="hide"/></div>');T.append(q);var k=e('<div class="col-sm-5 slider-right-padding display-flex"> <div class="input-group spinner" data-trigger="spinner" id="rmsTorqueSpinner"><input id="rmsTorqueValue" type="text" class="form-control text-center widget-textbox-height" data-max="'+d.sliderLimit.rmsMaxTorque+'" data-min="0" data-step="0.1"  value="'+d.rmsPoints[1]+'" data-rule="currency"><div class="input-group-addon"><a href="javascript:;" class="spin-up" data-spin="up"><i class="fa fa-caret-up"></i></a><a href="javascript:;" class="spin-down" data-spin="down"><i class="fa fa-caret-down"></i></a></div></div><label class="value"></label>&nbsp;&nbsp;Nm</div>');T.append(k);var b=q.find("#rmsTorqueSlider").slider({min:0,max:d.sliderLimit.rmsMaxTorque,step:.1}).on("change",function(){return q.find("#rmsTorqueSlider").slider("getValue")>d.peakPoints[1]?(q.find("#rmsTorqueSlider").slider("setValue",d.peakPoints[1]),I("RMS Torque can not be greater than Peak Torque."),!1):(I(""),void m("RmsTorque"))});d.disableControls&&d.disableControls.rmsTorqueSlider&&b.slider("disable"),i.find("#rmsTorqueSpinner").spinner("changed",function(a,t,o){if(e(this).data("oldValue",o),t>d.peakPoints[1])return i.find("#rmsTorqueValue").val(e(this).data("oldValue")),I("RMS Torque can not be greater than Peak Torque."),!1;I("");var r=parseInt(e(this).attr("data-min")),l=parseInt(e(this).attr("data-max")),s=e(this).val();return s>=r&&l>=s?(e(this).data("oldValue",e(this).val()),void c("RmsTorque",a.target.value)):void e(this).val(q.find("#rmsTorqueSlider").slider("getValue"))}),d.disableControls&&d.disableControls.rmsTorqueTextBox&&i.find("#rmsTorqueValue").attr("disabled",!0);var P=e('<div id="sliderContainer" class="row"></div>');o.append(P);var C=e('<div class="col-sm-3 title"><span id="rmsSpeedTitle">RMS Speed: </span></div>');P.append(C);var V=e('<div class="col-sm-4 slider-right-padding"><input id="rmsSpeedSlider" data-slider-value="'+d.rmsPoints[0]+'" data-slider-id="sizeSlider" type="text" data-slider-tooltip="hide"/></div>');P.append(V);var w=e('<div class="col-sm-5 slider-right-padding display-flex"> <div class="input-group spinner" data-trigger="spinner" id="rmsSpeedSpinner"><input id="rmsSpeedValue" type="text" class="form-control text-center widget-textbox-height" data-max="'+d.sliderLimit.rmsMaxSpeed+'" data-min="0" data-step="1"  value="'+d.rmsPoints[0]+'" data-rule="currency"><div class="input-group-addon"><a href="javascript:;" class="spin-up" data-spin="up"><i class="fa fa-caret-up"></i></a><a href="javascript:;" class="spin-down" data-spin="down"><i class="fa fa-caret-down"></i></a></div></div><label class="value"></label>&nbsp;&nbsp;rad/sec</div>');P.append(w);var M=V.find("#rmsSpeedSlider").slider({min:0,max:d.sliderLimit.rmsMaxSpeed,step:1}).on("change",function(){return V.find("#rmsSpeedSlider").slider("getValue")>d.peakPoints[0]?(V.find("#rmsSpeedSlider").slider("setValue",d.peakPoints[0]),void I("RMS Speed can not be greater than Peak Speed.")):(I(""),void m("RmsSpeed"))});if(d.disableControls&&d.disableControls.rmsSpeedSlider&&M.slider("disable"),i.find("#rmsSpeedSpinner").spinner("changed",function(a,t,o){if(e(this).data("oldValue",o),t>d.peakPoints[0])return i.find("#rmsSpeedValue").val(e(this).data("oldValue")),void I("RMS Speed can not be greater than Peak Speed.");I("");var r=parseInt(e(this).attr("data-min")),l=parseInt(e(this).attr("data-max")),s=e(this).val();return s>=r&&l>=s?(e(this).data("oldValue",e(this).val()),void c("RmsSpeed",t)):void e(this).val(V.find("#rmsSpeedSlider").slider("getValue"))}),d.disableControls&&d.disableControls.rmsSpeedTextBox&&i.find("#rmsSpeedValue").attr("disabled",!0),d.showMotorTsCurve){var y=e('<div id="sliderContainer" class="row"></div>');o.append(y)}o.append('<div id="alertMessageContainer" class="alert alert-warning"><strong>Warning:-&nbsp;&nbsp;</strong><span></span></div>');var I=function(e){return""===e?void o.find("#alertMessageContainer").hide():(o.find("#alertMessageContainer").show(),void o.find("#alertMessageContainer span").text(e))}},f=function(a){var t=e('<div class="panel panel-default"></div>');a.append(t);var i=e('<div class="panel-heading" role="tab" id="headingThree"> <h4 class="panel-title"> <a role="button"  data-parent="#accordion'+d.uniqeId+'" data-toggle="collapse"  href="#collapseThree'+d.uniqeId+'" aria-controls="collapseThree" aria-expanded="false"><span> Environmental Factors</span> <span class="accordion-plus-minus glyphicon pull-right glyphicon-chevron-down fa fa-chevron-down" aria-hidden="true" style="color: grey;"></span> </a> </h4> </div>');t.append(i);var o=e('<div id="collapseThree'+d.uniqeId+'" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree"></div>');t.append(o);var r=e('<div class="panel-body"></div>');o.append(r),t.on("show.bs.collapse",function(a){e(this).find(".accordion-plus-minus").removeClass("glyphicon-chevron-down fa fa-chevron-down").addClass("glyphicon-chevron-up fa fa-chevron-up")}),t.on("hide.bs.collapse",function(a){e(this).find(".accordion-plus-minus").removeClass("glyphicon-chevron-up fa fa-chevron-up").addClass("glyphicon-chevron-down fa fa-chevron-down")}),S(r)},S=function(a){var r=e('<div id="envFactorsPanelContainer"></div>');a.append(r);var l=e('<div id="sliderContainer" class="row"></div>');r.append(l);var s=e('<div class="col-sm-3 title"><span id="tempTitle">Temperature: </span></div>');l.append(s);var n=e('<div class="col-sm-4 slider-right-padding"><input id="tempSlider" data-slider-id="sizeSlider" type="text" data-slider-tooltip="hide"/></div>');l.append(n);var u=d.sliderLimit.maxTemp||o.sliderLimit.maxTemp,c=e('<div class="col-sm-5 slider-right-padding display-flex"> <div class="input-group spinner" data-trigger="spinner" id="tempValueSpinner"><input id="tempValue" type="text" class="form-control text-center widget-textbox-height" data-max="'+u+'" data-min="0" data-step="1"  value="'+d.motorData[d.motorSelectedIndex].temp+'" data-rule="currency"><div class="input-group-addon"><a href="javascript:;" class="spin-up" data-spin="up"><i class="fa fa-caret-up"></i></a><a href="javascript:;" class="spin-down" data-spin="down"><i class="fa fa-caret-down"></i></a></div></div><label class="value"></label>&nbsp;&nbsp;C</div>');l.append(c),d.defaultPeakStallTorque=d.motorData[d.motorSelectedIndex].peakStallTorque,d.defaultRollOffPoint=d.motorData[d.motorSelectedIndex].rollOffPoint,d.defaultRollOffSpeed=d.motorData[d.motorSelectedIndex].rollOffSpeed,d.defaultPeakTorqueAtMaxSpeed=d.motorData[d.motorSelectedIndex].peakTorqueAtMaxSpeed,d.defaultContinuousStallTorque=d.motorData[d.motorSelectedIndex].continuousStallTorque,d.defaultContinuosTorqueAtMaxSpeed=d.motorData[d.motorSelectedIndex].continuosTorqueAtMaxSpeed,l.find("#tempSlider").slider({value:d.motorData[d.motorSelectedIndex].temp,min:0,max:u,step:1}).on("change",function(e){i.find("#tempValue").val(e.value.newValue);var a=e.value.newValue-e.value.oldValue;0!==a&&(m("peakPlot",e.value.newValue),m("rmsPlot",e.value.newValue))}),d.disableControls&&d.disableControls.tempSlider&&l.find("#tempSlider").slider("disable"),i.find("#tempValueSpinner").spinner("changed",function(e,a,t){i.find("#tempSlider").slider("setValue",parseInt(a)),m("peakPlot",parseInt(a)),m("rmsPlot",parseInt(a))}),d.disableControls&&d.disableControls.tempTextBox&&i.find("#tempValue").attr("disabled",!0);var m=function(e,a){var i=t.getData(),o=a,r=40,l=155,s=25,n=o+.6*(l-o),u=r+.6*(l-r),c=-.0015,m=1-(o-r)/(l-r),v=(s+234.5)/(u+234.5),f=1+(n-u)*c;switch(e){case"peakPlot":for(var S=i[0].data,h=0;h<S.length;h++)void 0!=d.motorData[d.motorSelectedIndex]&&(0!=h&&12!=h&&6!=h||(S[h][1]=d.defaultPeakStallTorque*f,0==h&&(d.motorData[d.motorSelectedIndex].peakStallTorque=S[h][1]),6==h&&(S[h][1]=-S[h][1])),1!=h&&7!=h||(S[h][1]=d.defaultRollOffPoint*f,S[h][0]=d.defaultRollOffSpeed/f,d.motorData[d.motorSelectedIndex].rollOffPoint=S[h][1],d.motorData[d.motorSelectedIndex].rollOffSpeed=S[h][0],7==h&&(S[h][0]=-S[h][0],S[h][1]=-S[h][1])),2!=h&&8!=h||(S[h][1]=d.defaultPeakTorqueAtMaxSpeed*f,d.motorData[d.motorSelectedIndex].peakTorqueAtMaxSpeed=S[h][1],8==h&&(S[h][1]=-S[h][1])));i[0].data=S;break;case"rmsPlot":for(var x=i[2].data,h=0;h<x.length;h++)void 0!=d.motorData[d.motorSelectedIndex]&&(0!=h&&10!=h&&5!=h||(x[h][1]=d.defaultContinuousStallTorque*(f*Math.sqrt(m/v)),d.motorData[d.motorSelectedIndex].continuousStallTorque=x[h][1],5==h&&(x[h][1]=-x[h][1])),1!=h&&6!=h||(x[h][1]=d.defaultContinuosTorqueAtMaxSpeed*(f*Math.sqrt(m/v)),d.motorData[d.motorSelectedIndex].continuosTorqueAtMaxSpeed=x[h][1],6==h&&(x[h][1]=-x[h][1])));i[2].data=x}w(i),p()},v=e('<div id="sliderContainer" class="row"></div>');r.append(v);var f=e('<div class="col-sm-3 title"><span id="altitudeTitle">Altitude: </span></div>');v.append(f);var S=e('<div class="col-sm-4 slider-right-padding"><input id="altitudeSlider" data-slider-id="sizeSlider" type="text" data-slider-tooltip="hide"/></div>');v.append(S);var u=d.sliderLimit.maxAltitude||o.sliderLimit.maxAltitude,h=e('<div class="col-sm-5 slider-right-padding display-flex"> <div class="input-group spinner" data-trigger="spinner" id="altitudeSpinner"><input id="altitudeValue" type="text" class="form-control text-center widget-textbox-height" data-max="'+u+'" data-min="0" data-step="1"  value="'+d.motorData[d.motorSelectedIndex].altitude+'" data-rule="currency"><div class="input-group-addon"><a href="javascript:;" class="spin-up" data-spin="up"><i class="fa fa-caret-up"></i></a><a href="javascript:;" class="spin-down" data-spin="down"><i class="fa fa-caret-down"></i></a></div></div><label class="value"></label>&nbsp;&nbsp;m</div>');v.append(h),d.defaultContinuousStallTorque=d.motorData[d.motorSelectedIndex].continuousStallTorque,d.defaultContinuosTorqueAtMaxSpeed=d.motorData[d.motorSelectedIndex].continuosTorqueAtMaxSpeed,S.find("#altitudeSlider").slider({value:d.motorData[d.motorSelectedIndex].altitude,min:0,max:1e4,step:1}).on("change",function(e){i.find("#altitudeValue").val(e.value.newValue);var a=t.getData(),o=a[2].data;if(e.value.newValue>1500){var r=[1-(e.value.newValue-1500)/1e4];o[0][1]=o[10][1]=(d.defaultContinuousStallTorque*r).toFixed(3),o[1][1]=(d.defaultContinuosTorqueAtMaxSpeed*r).toFixed(3),a[2].data=o,d.motorData[d.motorSelectedIndex].continuousStallTorque=o[0][1],d.motorData[d.motorSelectedIndex].continuosTorqueAtMaxSpeed=o[1][1]}else{var r=1;o[0][1]=o[10][1]=(d.defaultContinuousStallTorque*r).toFixed(3),o[1][1]=(d.defaultContinuosTorqueAtMaxSpeed*r).toFixed(3),a[2].data=o,d.motorData[d.motorSelectedIndex].continuousStallTorque=o[0][1],d.motorData[d.motorSelectedIndex].continuosTorqueAtMaxSpeed=o[1][1]}w(a),p()}),d.disableControls&&d.disableControls.altitudeSlider&&S.find("#altitudeSlider").slider("disable"),i.find("#altitudeSpinner").spinner("changed",function(e,a,o){var r=parseInt(a),l=t.getData(),s=l[2].data;if(i.find("#altitudeSlider").slider("setValue",r),r>1500){var n=[1-(r-1500)/1e4];s[0][1]=s[10][1]=(d.defaultContinuousStallTorque*n).toFixed(3),s[1][1]=(d.defaultContinuosTorqueAtMaxSpeed*n).toFixed(3),l[2].data=s,d.motorData[d.motorSelectedIndex].continuousStallTorque=s[0][1],d.motorData[d.motorSelectedIndex].continuosTorqueAtMaxSpeed=s[1][1]}else{var n=1;s[0][1]=s[10][1]=(d.defaultContinuousStallTorque*n).toFixed(3),s[1][1]=(d.defaultContinuosTorqueAtMaxSpeed*n).toFixed(3),l[2].data=s,d.motorData[d.motorSelectedIndex].continuousStallTorque=s[0][1],d.motorData[d.motorSelectedIndex].continuosTorqueAtMaxSpeed=s[1][1]}w(l),p()}),d.disableControls&&d.disableControls.transmRatioTextBox&&i.find("#altitudeValue").attr("disabled",!0)},h=function(a){var t=e('<div class="panel panel-default"></div>');a.append(t);var i=e('<div class="panel-heading" role="tab" id="headingFour"> <h4 class="panel-title"> <a role="button"   data-parent="#accordion'+d.uniqeId+'"  data-toggle="collapse"  href="#collapseFour'+d.uniqeId+'" aria-controls="collapseFour" aria-expanded="false"><span> Transmission Ratio</span> <span class="accordion-plus-minus glyphicon pull-right glyphicon-chevron-down fa fa-chevron-down" aria-hidden="true" style="color: grey;"></span> </a> </h4> </div>');t.append(i);var o=e('<div id="collapseFour'+d.uniqeId+'" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFour"></div>');t.append(o);var r=e('<div class="panel-body"></div>');o.append(r),t.on("show.bs.collapse",function(a){e(this).find(".accordion-plus-minus").removeClass("glyphicon-chevron-down fa fa-chevron-down").addClass("glyphicon-chevron-up fa fa-chevron-up")}),t.on("hide.bs.collapse",function(a){e(this).find(".accordion-plus-minus").removeClass("glyphicon-chevron-up fa fa-chevron-up").addClass("glyphicon-chevron-down fa fa-chevron-down")}),x(r)},x=function(a){var t=e('<div id="transmissionRatioPanelContainer"></div>');a.append(t);var r=e('<div id="sliderContainer" class="row"></div>');t.append(r);var l=e('<div class="col-sm-3 title"><span id="trRatioTitle">Transmission Ratio: </span></div>');r.append(l);var s=e('<div class="col-sm-4 slider-right-padding" ><input id="trRatioSlider" data-slider-id="sizeSlider" type="text" data-slider-tooltip="hide"/></div>');r.append(s);var n=e('<div class="col-sm-5 slider-right-padding display-flex"> <div class="input-group spinner" data-trigger="spinner" id="trRatioSpinner"><input id="trRatioValue" type="text" class="form-control text-center widget-textbox-height" data-max="'+d.sliderLimit.maxTrRatio+'" data-min="1" data-step="1"  value="'+d.transmissionRaioVal+'" data-rule="quantity"><div class="input-group-addon"><a href="javascript:;" class="spin-up" data-spin="up"><i class="fa fa-caret-up"></i></a><a href="javascript:;" class="spin-down" data-spin="down"><i class="fa fa-caret-down"></i></a></div></div><label class="value"></label>&nbsp;: 1</div>');r.append(n),d.defaultRmsTorque=d.rmsPoints[1],d.defaultRmsSpeed=d.rmsPoints[0],d.defaultPeakTorque=d.peakPoints[1],d.defaultPeakSpeed=d.peakPoints[0],s.find("#trRatioSlider").slider({min:1,value:1,max:d.sliderLimit.maxTrRatio||o.sliderLimit.maxTrRatio,step:1}).on("change",function(){m("TransmissionRatio")}),d.disableControls&&d.disableControls.transmRatioSlider&&s.find("#trRatioSlider").slider("disable"),i.find("#trRatioSpinner").spinner("changed",function(e,a,t){c("TransmissionRatio",a)}),d.disableControls&&d.disableControls.transmRatioTextBox&&i.find("#trRatioValue").attr("disabled",!0)},T=function(a){var t=e('<div class="tsPlotContainer"></div>');a.append(t);var i=e('<div class="tsPlotArea"></div>');t.append(i),k()},g=function(a){var t=i.find(".tsCruveContainer"),o=e('<div id="servoMotorInfoContainer" class="tsModal"></div>');t.append(o);var r=e('<div class="motorSpecTable"></div>');q(d.motorSelectedIndex,r),o.append(r)},q=function(a){var t=i.find("#servoMotorInfoContainer").find(".motorSpecTable"),o=t.find("table");o.length>0&&o.remove();var o=e('<table class="table table-striped"></table>'),r=e('<caption class="motorTableTitle">Motor Specifications - '+d.motorData[a].motorPartNo+'<div class="closeButtonStyle">X</div></caption>'),l=e('<thead><tr><th class="leftCol tableTitle">Parameters</th><th class="rightCol tableTitle">Value</th></tr></thead>'),s=e("<tbody></tbody>");t.append(o),o.append(r),o.append(l),o.append(s),s.append('<tr> <td class="leftCol"> Frame Size </td><td class="rightCol">'+d.motorData[a].FrameSize+"</td></tr>"),s.append('<tr> <td class="leftCol"> Peak Stall Torque </td><td class="rightCol">'+d.motorData[a].peakStallTorque+" N-m</td></tr>"),s.append('<tr> <td class="leftCol"> Roll Off Point </td><td class="rightCol">'+d.motorData[a].rollOffPoint+" N-m</td></tr>"),s.append('<tr> <td class="leftCol"> Roll Off Speed </td><td class="rightCol">'+d.motorData[a].rollOffSpeed+" rad/sec</td></tr>"),s.append('<tr> <td class="leftCol"> Max Speed </td><td class="rightCol">'+d.motorData[a].maxSpeed+" rad/sec</td></tr>"),s.append('<tr> <td class="leftCol"> Peak Torque at Max Speed </td><td class="rightCol">'+d.motorData[a].peakTorqueAtMaxSpeed+" N-m</td></tr>"),s.append('<tr> <td class="leftCol"> Continuous Stall Torque </td><td class="rightCol">'+d.motorData[a].continuousStallTorque+" N-m</td></tr>"),s.append('<tr> <td class="leftCol"> Continuos Torque at Max Speed </td><td class="rightCol">'+d.motorData[a].continuosTorqueAtMaxSpeed+" N-m</td></tr>")},k=function(){var e=[],a={colors:[d.graphLineColor.peakTSCurve,d.graphLineColor.peakTSCurve,d.graphLineColor.contionusTSCurve,d.graphLineColor.contionusTSCurve],series:{points:{show:!0}},legend:{backgroundOpacity:0},coordinate:{type:"rectangular"},axisLabels:{show:!0},xaxis:{axisLabel:"Speed (rad/sec)"},yaxis:{axisLabel:"Torque (N-m)"},grid:{hoverable:!0,clickable:!0,borderWidth:1,borderColor:"#D9D9D9",margin:0,markings:[{yaxis:{from:0,to:0},color:"#333"},{xaxis:{from:0,to:0},color:"#333"}]},tooltip:!0,tooltipOpts:{cssClass:"tsCurveFlotTip",content:function(e,a,t,i){var o="";switch(i.seriesIndex){case 0:switch(i.dataIndex){case 0:o="Peak Stall Torque <br />";break;case 1:o="Roll Off Point<br />";
break;case 2:o="Peak Torque at Max Speed <br />";break;case 3:o="Max Speed at Zero Torque <br />"}break;case 1:o="Peak T/S Point <br />";break;case 2:switch(i.dataIndex){case 0:o="Continuous Stall Torque <br />";break;case 1:o="Continuous Stall Torque at Max Speed <br />";break;case 2:o="Max Speed Point <br />"}break;case 3:o="RMS T/S Point <br />"}return o+"Speed: "+a+", Torque: "+t},defaultTheme:!1,shifts:{x:0,y:20}}};1==d.quadrant&&(a.xaxis.min=0,a.yaxis.min=0);var i=[],o=[],r=[],l=[],s=[],n=[],p=[],u=[],c=function(){i=[],o=[],r=[],l=[],s=[],n=[],p=[],u=[]},m=function(e){var a=e.maxSpeed;s=[[0,e.peakStallTorque],[e.rollOffSpeed,e.rollOffPoint],[a,e.peakTorqueAtMaxSpeed],[a,0]],p=[[0,e.continuousStallTorque],[a,e.continuosTorqueAtMaxSpeed],[a,0]]},v=function(e){var a=-1*e.maxSpeed;n=[[a,0],[a+1,e.peakStallTorque]],u=[[a,0],[a+1,e.continuousStallTorque]]},f=function(e){i=i.concat(s),o=o.concat(p)},S=function(e){var a=[],t=[];n.length>0&&n.forEach(function(e,t,i){var o=[];o[0]=-1*e[0],o[1]=-1*e[1],a[t]=o}),i=i.concat(a),u.length>0&&u.forEach(function(e,a,i){var o=[];o[0]=-1*e[0],o[1]=-1*e[1],t[a]=o}),o=o.concat(t)},h=function(e){var a=[],t=[];s.length>0&&s.forEach(function(e,t,i){var o=[];o[0]=-1*e[0],o[1]=-1*e[1],a[t]=o}),i=i.concat(a),p.length>0&&p.forEach(function(e,a,i){var o=[];o[0]=-1*e[0],o[1]=-1*e[1],t[a]=o}),o=o.concat(t)},x=function(e){i=i.concat(n),o=o.concat(u)},T=function(e){i.push([0,e.peakStallTorque]),o.push([0,e.continuousStallTorque])},g=function(e){var a=e.temp,t=40,i=155,o=25,d=a+.6*(i-a),r=t+.6*(i-t),l=-.0015,s=1-(a-t)/(i-t),n=(o+234.5)/(r+234.5),p=1+(d-r)*l;return e.peakStallTorque=(e.peakStallTorque*p).toFixed(2),e.rollOffPoint=(e.rollOffPoint*p).toFixed(2),e.rollOffSpeed=(e.rollOffSpeed/p).toFixed(2),e.continuousStallTorque=(e.continuousStallTorque*(p*Math.sqrt(s/n))).toFixed(2),e.continuosTorqueAtMaxSpeed=(e.continuosTorqueAtMaxSpeed*(p*Math.sqrt(s/n))).toFixed(2),e},q=function(e){f(e),S(e),h(e),x(e),T(e)},k=function(e){if(c(),"0"==d.firstTimeCall){var a=g(e);m(a),v(a),q(a)}else m(e),v(e),q(e)};d.showMotorTsCurve&&k(d.motorData[d.motorSelectedIndex]),d.showApplicationPoints&&(r.push(d.peakPoints),l.push(d.rmsPoints)),e.push({data:i,label:"Peak T-S Curve",lines:{lineWidth:2,show:!0}},{data:r,label:"",points:{show:!0,fillColor:d.graphLineColor.peakTSCurve,radius:4}},{data:o,label:"Continous T-S Curve",lines:{lineWidth:2,show:!0}},{data:l,label:"",points:{show:!0,fillColor:d.graphLineColor.contionusTSCurve,radius:4}}),t?w(e,a):V(e,a)},b=function(e){function a(e,a,t,i){var d=!1,r=(a[1]-e[1])/(a[0]-e[0]),l=e[1]-r*e[0],s=-1,n=r*t[0]-t[1]+l;if(d=0==n||n>0&&0>s||0>n&&s>0,i){var p=t[0]*t[1],v=t[0]*(r*t[0]+l),f=100*p/v;m.push(f)}else{var S=100*t[1]/(r*t[0]+l),h=100*t[0]/o.maxSpeed;u.push(S),c.push(h)}return d}function t(e){var a=100*e[1]/o.peakStallTorque,t=100*e[0]/o.maxSpeed;u.push(a),c.push(t)}function i(e){var a=e[0]*e[1],t=e[0]*o.continuousStallTorque,i=100*a/t;m.push(i)}var o=e,r=d.peakPoints,l=d.rmsPoints,s={PeakStallPoint:{x:0,y:o.peakStallTorque},RollOffPoint:{x:o.rollOffSpeed,y:o.rollOffPoint},PeakTarqueAtMaxSpeedPoint:{x:o.maxSpeed,y:o.peakTorqueAtMaxSpeed},ContinuousStallTorquePoint:{x:0,y:o.continuousStallTorque},ContinuousStallTorqueMaxSpeedPoint:{x:o.maxSpeed,y:o.continuosTorqueAtMaxSpeed}},n=0,p=null,u=[],c=[],m=[],v=null,f=null,S=null,h={status:p,torqueUtilization:v,speedUtilization:f,avgPower:S},x=l[0],T=l[1],g=r[0],q=r[1],k=!1,b=!1,P=null,C=null,V=null;return x<=o.maxSpeed?(P=[s.ContinuousStallTorquePoint.x,s.ContinuousStallTorquePoint.y],C=[s.ContinuousStallTorqueMaxSpeedPoint.x,s.ContinuousStallTorqueMaxSpeedPoint.y],V=[x,T],b=a(P,C,V,!0)):(n=-1,i([x,T])),q<=o.peakStallTorque&&g<=o.maxSpeed?g<=s.RollOffPoint.x?(P=[s.PeakStallPoint.x,s.PeakStallPoint.y],C=[s.RollOffPoint.x,s.RollOffPoint.y],V=[g,q],k=a(P,C,V,!1)):(P=[s.RollOffPoint.x,s.RollOffPoint.y],C=[s.PeakTarqueAtMaxSpeedPoint.x,s.PeakTarqueAtMaxSpeedPoint.y],V=[g,q],k=a(P,C,V,!1)):(n=-1,t([g,q])),-1!=n&&0!=k&&0!=b||(n=-1),-1==n?h.status=!1:0==n&&(h.status=!0),h.torqueUtilization=Math.max.apply(Math,u),h.speedUtilization=Math.max.apply(Math,c),h.avgPower=Math.max.apply(Math,m),h},P=function(){if(!d.showMotorTsCurve){var e=Math.max(d.peakPoints[0]+50,d.rmsPoints[0]+50,200),a=Math.max(d.peakPoints[1]+10,d.rmsPoints[1]+10,50);t.getOptions().yaxes[0].max=a,t.getOptions().xaxes[0].max=e,4===d.quadrant&&(t.getOptions().yaxes[0].min=-1*a,t.getOptions().xaxes[0].min=-1*e)}},C=function(){4==d.quadrant?(t.getOptions().grid.markings[0].color="#bdbdbd",t.getOptions().grid.markings[1].color="#bdbdbd"):(t.getOptions().grid.markings[0].color="#333",t.getOptions().grid.markings[1].color="#333"),P(),t.setupGrid(),t.draw()},V=function(a,o){setTimeout(function(){t=e.plot(i.find(".tsPlotArea"),a,o),C()},0)},w=function(e,a){a&&(void 0!=a.xaxis.min&&void 0!=a.yaxis.min?(t.getOptions().yaxes[0].min=a.yaxis.min,t.getOptions().xaxes[0].min=a.xaxis.min):(t.getOptions().yaxes[0].min=null,t.getOptions().xaxes[0].min=null)),t.setData(e),C(),M()},M=function(){d.assessmentMode&&d.assessmentCallback&&d.assessmentCallback({peakTorque:{value:i.find("#peakTorqueValue").val(),unit:"Nm"},peakSpeed:{value:i.find("#peakSpeedValue").val(),unit:"rad/sec"},rmsTorque:{value:i.find("#rmsTorqueValue").val(),unit:"Nm"},rmsSpeed:{value:i.find("#rmsSpeedValue").val(),unit:"rad/sec"},temperature:{value:i.find("#tempValue").val(),unit:"C"},altitude:{value:i.find("#altitudeValue").val(),unit:"m"},transmissionRatio:{value:i.find("#trRatioValue").val(),unit:""},motorSelectedIndex:{value:d.motorSelectedIndex,unit:""}})},y=function(e){e.peakTorque&&(i.find("#peakTorqueSlider").slider("setValue",e.peakTorque.value),i.find("#peakTorqueValue").val(e.peakTorque.value),m("PeakTorque")),e.peakSpeed&&(i.find("#peakSpeedSlider").slider("setValue",e.peakSpeed.value),i.find("#peakSpeedValue").val(e.peakSpeed.value),m("PeakSpeed")),e.rmsTorque&&(i.find("#rmsTorqueSlider").slider("setValue",e.rmsTorque.value),i.find("#rmsTorqueValue").val(e.rmsTorque.value),m("RmsTorque")),e.rmsSpeed&&(i.find("#rmsSpeedSlider").slider("setValue",e.rmsSpeed.value),i.find("#rmsSpeedValue").val(e.rmsSpeed.value),m("RmsSpeed")),e.temperature&&(i.find("#tempSlider").slider("setValue",e.temperature.value),i.find("#tempValue").val(e.temperature.value),m("Temperature")),e.altitude&&(i.find("#altitudeSlider").slider("setValue",e.altitude.value),i.find("#altitudeValue").val(e.altitude.value),m("Altitude")),e.transmissionRatio&&(i.find("#trRatioSlider").slider("setValue",e.transmissionRatio.value),i.find("#trRatioValue").val(e.transmissionRatio.value),m("TransmissionRatio")),e.motorSelectedIndex&&i.find("#solutionSliderId").slider("setValue",parseInt(e.motorSelectedIndex.value))},I=function(e){var a;e.peakTorque&&(a=e.peakTorque.status?"correct":"incorrect",i.find("#peakTorqueValue").addClass(a)),e.peakSpeed&&(a=e.peakSpeed.status?"correct":"incorrect",i.find("#peakSpeedValue").addClass(a)),e.rmsTorque&&(a=e.rmsTorque.status?"correct":"incorrect",i.find("#rmsTorqueValue").addClass(a)),e.rmsSpeed&&(a=e.rmsSpeed.status?"correct":"incorrect",i.find("#rmsSpeedValue").addClass(a)),e.temperature&&(a=e.temperature.status?"correct":"incorrect",i.find("#tempValue").addClass(a)),e.altitude&&(a=e.altitude.status?"correct":"incorrect",i.find("#altitudeValue").addClass(a)),e.transmissionRatio&&(a=e.transmissionRatio.status?"correct":"incorrect",i.find("#trRatioValue").addClass(a))};return r(),{ref:this,updateInputs:y,markAnswers:I}}}(jQuery);